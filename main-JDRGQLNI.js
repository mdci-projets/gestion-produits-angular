import{a as W,b as mi,c as js,d as Us,e as gi,f as Vs,q as Hs,r as zs,u as Ws}from"./chunk-U5SJLZ2G.js";import{a as Ls,b as Bs}from"./chunk-JI7LEZAD.js";import{B as pi,K as Rs,N as qs,O as Fs,P as on,R as an,a as Ms,p as Is,q as xs,v as Ps,y as Ds}from"./chunk-5DMRHBMF.js";import{A as Es,D as ws,E as Ts,F as ks,G as Cs,H as As,L as Ns,N as Os,a as sn,d as as,e as at,g as ls,i as lt,l as cs,m as us,n as hs,p as ds,q as fs,r as ps,s as ms,t as gs,u as ys,v as Me,w as _s,x as bs,y as vs,z as Ss}from"./chunk-GXLEOPKS.js";import{$ as ni,Ab as oi,Ba as Gr,Cb as ns,E as en,Gb as Et,Hb as Ue,I as ti,Ja as vt,Lb as ai,Mb as li,Nb as ci,Oa as Xr,Rb as q,Sa as M,Sb as wt,Tb as ui,U as Wr,Ua as Jr,Ub as hi,Va as Yr,Vb as di,Wb as fi,X as E,Xa as ee,Yb as is,_ as le,_b as rs,a as ae,ba as ii,c as Vr,cb as _e,cc as ss,d as f,da as je,db as ri,e as Ec,ea as k,eb as nn,f as ei,fc as os,gb as Zr,hb as ce,ia as $r,l as Oe,m as Hr,na as Kr,nb as es,oa as Qr,ob as ue,pb as rn,q as zr,r as Zt,sb as ts,ta as ot,wb as O,xb as C,ya as tn,yb as St,zb as si}from"./chunk-MYAWSPVW.js";var Ks=f((Bf,yi)=>{"use strict";global.crypto&&global.crypto.getRandomValues?yi.exports.randomBytes=function(i){var e=new Uint8Array(i);return global.crypto.getRandomValues(e),e}:yi.exports.randomBytes=function(i){for(var e=new Array(i),t=0;t<i;t++)e[t]=Math.floor(Math.random()*256);return e}});var He=f((jf,Gs)=>{"use strict";var wc=Ks(),Qs="abcdefghijklmnopqrstuvwxyz012345";Gs.exports={string:function(i){for(var e=Qs.length,t=wc.randomBytes(i),n=[],r=0;r<i;r++)n.push(Qs.substr(t[r]%e,1));return n.join("")},number:function(i){return Math.floor(Math.random()*i)},numberString:function(i){var e=(""+(i-1)).length,t=new Array(e+1).join("0");return(t+this.number(i)).slice(-e)}}});var be=f((Uf,hn)=>{"use strict";var Tc=He(),ct={},_i=!1,Xs=global.chrome&&global.chrome.app&&global.chrome.app.runtime;hn.exports={attachEvent:function(i,e){typeof global.addEventListener<"u"?global.addEventListener(i,e,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+i,e),global.attachEvent("on"+i,e))},detachEvent:function(i,e){typeof global.addEventListener<"u"?global.removeEventListener(i,e,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+i,e),global.detachEvent("on"+i,e))},unloadAdd:function(i){if(Xs)return null;var e=Tc.string(8);return ct[e]=i,_i&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(i){i in ct&&delete ct[i]},triggerUnloadCallbacks:function(){for(var i in ct)ct[i](),delete ct[i]}};var kc=function(){_i||(_i=!0,hn.exports.triggerUnloadCallbacks())};Xs||hn.exports.attachEvent("unload",kc)});var Ys=f((Vf,Js)=>{"use strict";Js.exports=function(e,t){if(t=t.split(":")[0],e=+e,!e)return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}});var to=f(bi=>{"use strict";var Cc=Object.prototype.hasOwnProperty,Ac;function Zs(i){try{return decodeURIComponent(i.replace(/\+/g," "))}catch{return null}}function eo(i){try{return encodeURIComponent(i)}catch{return null}}function Nc(i){for(var e=/([^=?#&]+)=?([^&]*)/g,t={},n;n=e.exec(i);){var r=Zs(n[1]),s=Zs(n[2]);r===null||s===null||r in t||(t[r]=s)}return t}function Oc(i,e){e=e||"";var t=[],n,r;typeof e!="string"&&(e="?");for(r in i)if(Cc.call(i,r)){if(n=i[r],!n&&(n===null||n===Ac||isNaN(n))&&(n=""),r=eo(r),n=eo(n),r===null||n===null)continue;t.push(r+"="+n)}return t.length?e+t.join("&"):""}bi.stringify=Oc;bi.parse=Nc});var Ei=f((zf,lo)=>{"use strict";var io=Ys(),dn=to(),Mc=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,ro=/[\n\r\t]/g,Ic=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,so=/:\d+$/,xc=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,Pc=/^[a-zA-Z]:/;function Si(i){return(i||"").toString().replace(Mc,"")}var vi=[["#","hash"],["?","query"],function(e,t){return he(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],no={hash:1,query:1};function oo(i){var e;typeof window<"u"?e=window:typeof global<"u"?e=global:typeof self<"u"?e=self:e={};var t=e.location||{};i=i||t;var n={},r=typeof i,s;if(i.protocol==="blob:")n=new de(unescape(i.pathname),{});else if(r==="string"){n=new de(i,{});for(s in no)delete n[s]}else if(r==="object"){for(s in i)s in no||(n[s]=i[s]);n.slashes===void 0&&(n.slashes=Ic.test(i.href))}return n}function he(i){return i==="file:"||i==="ftp:"||i==="http:"||i==="https:"||i==="ws:"||i==="wss:"}function ao(i,e){i=Si(i),i=i.replace(ro,""),e=e||{};var t=xc.exec(i),n=t[1]?t[1].toLowerCase():"",r=!!t[2],s=!!t[3],o=0,a;return r?s?(a=t[2]+t[3]+t[4],o=t[2].length+t[3].length):(a=t[2]+t[4],o=t[2].length):s?(a=t[3]+t[4],o=t[3].length):a=t[4],n==="file:"?o>=2&&(a=a.slice(2)):he(n)?a=t[4]:n?r&&(a=a.slice(2)):o>=2&&he(e.protocol)&&(a=t[4]),{protocol:n,slashes:r||he(n),slashesCount:o,rest:a}}function Dc(i,e){if(i==="")return e;for(var t=(e||"/").split("/").slice(0,-1).concat(i.split("/")),n=t.length,r=t[n-1],s=!1,o=0;n--;)t[n]==="."?t.splice(n,1):t[n]===".."?(t.splice(n,1),o++):o&&(n===0&&(s=!0),t.splice(n,1),o--);return s&&t.unshift(""),(r==="."||r==="..")&&t.push(""),t.join("/")}function de(i,e,t){if(i=Si(i),i=i.replace(ro,""),!(this instanceof de))return new de(i,e,t);var n,r,s,o,a,l,c=vi.slice(),h=typeof e,u=this,g=0;for(h!=="object"&&h!=="string"&&(t=e,e=null),t&&typeof t!="function"&&(t=dn.parse),e=oo(e),r=ao(i||"",e),n=!r.protocol&&!r.slashes,u.slashes=r.slashes||n&&e.slashes,u.protocol=r.protocol||e.protocol||"",i=r.rest,(r.protocol==="file:"&&(r.slashesCount!==2||Pc.test(i))||!r.slashes&&(r.protocol||r.slashesCount<2||!he(u.protocol)))&&(c[3]=[/(.*)/,"pathname"]);g<c.length;g++){if(o=c[g],typeof o=="function"){i=o(i,u);continue}s=o[0],l=o[1],s!==s?u[l]=i:typeof s=="string"?(a=s==="@"?i.lastIndexOf(s):i.indexOf(s),~a&&(typeof o[2]=="number"?(u[l]=i.slice(0,a),i=i.slice(a+o[2])):(u[l]=i.slice(a),i=i.slice(0,a)))):(a=s.exec(i))&&(u[l]=a[1],i=i.slice(0,a.index)),u[l]=u[l]||n&&o[3]&&e[l]||"",o[4]&&(u[l]=u[l].toLowerCase())}t&&(u.query=t(u.query)),n&&e.slashes&&u.pathname.charAt(0)!=="/"&&(u.pathname!==""||e.pathname!=="")&&(u.pathname=Dc(u.pathname,e.pathname)),u.pathname.charAt(0)!=="/"&&he(u.protocol)&&(u.pathname="/"+u.pathname),io(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(a=u.auth.indexOf(":"),~a?(u.username=u.auth.slice(0,a),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(a+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin=u.protocol!=="file:"&&he(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}function Rc(i,e,t){var n=this;switch(i){case"query":typeof e=="string"&&e.length&&(e=(t||dn.parse)(e)),n[i]=e;break;case"port":n[i]=e,io(e,n.protocol)?e&&(n.host=n.hostname+":"+e):(n.host=n.hostname,n[i]="");break;case"hostname":n[i]=e,n.port&&(e+=":"+n.port),n.host=e;break;case"host":n[i]=e,so.test(e)?(e=e.split(":"),n.port=e.pop(),n.hostname=e.join(":")):(n.hostname=e,n.port="");break;case"protocol":n.protocol=e.toLowerCase(),n.slashes=!t;break;case"pathname":case"hash":if(e){var r=i==="pathname"?"/":"#";n[i]=e.charAt(0)!==r?r+e:e}else n[i]=e;break;case"username":case"password":n[i]=encodeURIComponent(e);break;case"auth":var s=e.indexOf(":");~s?(n.username=e.slice(0,s),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=e.slice(s+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(e))}for(var o=0;o<vi.length;o++){var a=vi[o];a[4]&&(n[a[1]]=n[a[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin=n.protocol!=="file:"&&he(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function qc(i){(!i||typeof i!="function")&&(i=dn.stringify);var e,t=this,n=t.host,r=t.protocol;r&&r.charAt(r.length-1)!==":"&&(r+=":");var s=r+(t.protocol&&t.slashes||he(t.protocol)?"//":"");return t.username?(s+=t.username,t.password&&(s+=":"+t.password),s+="@"):t.password?(s+=":"+t.password,s+="@"):t.protocol!=="file:"&&he(t.protocol)&&!n&&t.pathname!=="/"&&(s+="@"),(n[n.length-1]===":"||so.test(t.hostname)&&!t.port)&&(n+=":"),s+=n+t.pathname,e=typeof t.query=="object"?i(t.query):t.query,e&&(s+=e.charAt(0)!=="?"?"?"+e:e),t.hash&&(s+=t.hash),s}de.prototype={set:Rc,toString:qc};de.extractProtocol=ao;de.location=oo;de.trimLeft=Si;de.qs=dn;lo.exports=de});var K=f((Wf,co)=>{"use strict";var Fc=Ei(),Lc=function(){};co.exports={getOrigin:function(i){if(!i)return null;var e=new Fc(i);if(e.protocol==="file:")return null;var t=e.port;return t||(t=e.protocol==="https:"?"443":"80"),e.protocol+"//"+e.hostname+":"+t},isOriginEqual:function(i,e){var t=this.getOrigin(i)===this.getOrigin(e);return Lc("same",i,e,t),t},isSchemeEqual:function(i,e){return i.split(":")[0]===e.split(":")[0]},addPath:function(i,e){var t=i.split("?");return t[0]+e+(t[1]?"?"+t[1]:"")},addQuery:function(i,e){return i+(i.indexOf("?")===-1?"?"+e:"&"+e)},isLoopbackAddr:function(i){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(i)||/^\[::1\]$/.test(i)}}});var w=f(($f,wi)=>{"use strict";typeof Object.create=="function"?wi.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:wi.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Ti=f((Kf,uo)=>{"use strict";function fn(){this._listeners={}}fn.prototype.addEventListener=function(i,e){i in this._listeners||(this._listeners[i]=[]);var t=this._listeners[i];t.indexOf(e)===-1&&(t=t.concat([e])),this._listeners[i]=t};fn.prototype.removeEventListener=function(i,e){var t=this._listeners[i];if(t){var n=t.indexOf(e);if(n!==-1){t.length>1?this._listeners[i]=t.slice(0,n).concat(t.slice(n+1)):delete this._listeners[i];return}}};fn.prototype.dispatchEvent=function(){var i=arguments[0],e=i.type,t=arguments.length===1?[i]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,t),e in this._listeners)for(var n=this._listeners[e],r=0;r<n.length;r++)n[r].apply(this,t)};uo.exports=fn});var B=f((Qf,ho)=>{"use strict";var Bc=w(),pn=Ti();function Ie(){pn.call(this)}Bc(Ie,pn);Ie.prototype.removeAllListeners=function(i){i?delete this._listeners[i]:this._listeners={}};Ie.prototype.once=function(i,e){var t=this,n=!1;function r(){t.removeListener(i,r),n||(n=!0,e.apply(this,arguments))}this.on(i,r)};Ie.prototype.emit=function(){var i=arguments[0],e=this._listeners[i];if(e){for(var t=arguments.length,n=new Array(t-1),r=1;r<t;r++)n[r-1]=arguments[r];for(var s=0;s<e.length;s++)e[s].apply(this,n)}};Ie.prototype.on=Ie.prototype.addListener=pn.prototype.addEventListener;Ie.prototype.removeListener=pn.prototype.removeEventListener;ho.exports.EventEmitter=Ie});var po=f((Gf,ki)=>{"use strict";var fo=global.WebSocket||global.MozWebSocket;fo?ki.exports=function(e){return new fo(e)}:ki.exports=void 0});var bo=f((Xf,_o)=>{"use strict";var mo=be(),jc=K(),Uc=w(),go=B().EventEmitter,yo=po(),ve=function(){};function Se(i,e,t){if(!Se.enabled())throw new Error("Transport created when disabled");go.call(this),ve("constructor",i);var n=this,r=jc.addPath(i,"/websocket");r.slice(0,5)==="https"?r="wss"+r.slice(5):r="ws"+r.slice(4),this.url=r,this.ws=new yo(this.url,[],t),this.ws.onmessage=function(s){ve("message event",s.data),n.emit("message",s.data)},this.unloadRef=mo.unloadAdd(function(){ve("unload"),n.ws.close()}),this.ws.onclose=function(s){ve("close event",s.code,s.reason),n.emit("close",s.code,s.reason),n._cleanup()},this.ws.onerror=function(s){ve("error event",s),n.emit("close",1006,"WebSocket connection broken"),n._cleanup()}}Uc(Se,go);Se.prototype.send=function(i){var e="["+i+"]";ve("send",e),this.ws.send(e)};Se.prototype.close=function(){ve("close");var i=this.ws;this._cleanup(),i&&i.close()};Se.prototype._cleanup=function(){ve("_cleanup");var i=this.ws;i&&(i.onmessage=i.onclose=i.onerror=null),mo.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()};Se.enabled=function(){return ve("enabled"),!!yo};Se.transportName="websocket";Se.roundTrips=2;_o.exports=Se});var Eo=f((Jf,So)=>{"use strict";var Vc=w(),vo=B().EventEmitter,Ee=function(){};function ze(i,e){Ee(i),vo.call(this),this.sendBuffer=[],this.sender=e,this.url=i}Vc(ze,vo);ze.prototype.send=function(i){Ee("send",i),this.sendBuffer.push(i),this.sendStop||this.sendSchedule()};ze.prototype.sendScheduleWait=function(){Ee("sendScheduleWait");var i=this,e;this.sendStop=function(){Ee("sendStop"),i.sendStop=null,clearTimeout(e)},e=setTimeout(function(){Ee("timeout"),i.sendStop=null,i.sendSchedule()},25)};ze.prototype.sendSchedule=function(){Ee("sendSchedule",this.sendBuffer.length);var i=this;if(this.sendBuffer.length>0){var e="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,e,function(t){i.sendStop=null,t?(Ee("error",t),i.emit("close",t.code||1006,"Sending error: "+t),i.close()):i.sendScheduleWait()}),this.sendBuffer=[]}};ze.prototype._cleanup=function(){Ee("_cleanup"),this.removeAllListeners()};ze.prototype.close=function(){Ee("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)};So.exports=ze});var ko=f((Yf,To)=>{"use strict";var Hc=w(),wo=B().EventEmitter,kt=function(){};function mn(i,e,t){kt(e),wo.call(this),this.Receiver=i,this.receiveUrl=e,this.AjaxObject=t,this._scheduleReceiver()}Hc(mn,wo);mn.prototype._scheduleReceiver=function(){kt("_scheduleReceiver");var i=this,e=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);e.on("message",function(t){kt("message",t),i.emit("message",t)}),e.once("close",function(t,n){kt("close",t,n,i.pollIsClosing),i.poll=e=null,i.pollIsClosing||(n==="network"?i._scheduleReceiver():(i.emit("close",t||1006,n),i.removeAllListeners()))})};mn.prototype.abort=function(){kt("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()};To.exports=mn});var Ni=f((Zf,Co)=>{"use strict";var zc=w(),Wc=K(),Ci=Eo(),$c=ko(),gn=function(){};function Ai(i,e,t,n,r){var s=Wc.addPath(i,e);gn(s);var o=this;Ci.call(this,i,t),this.poll=new $c(n,s,r),this.poll.on("message",function(a){gn("poll message",a),o.emit("message",a)}),this.poll.once("close",function(a,l){gn("poll close",a,l),o.poll=null,o.emit("close",a,l),o.close()})}zc(Ai,Ci);Ai.prototype.close=function(){Ci.prototype.close.call(this),gn("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)};Co.exports=Ai});var We=f((ep,Oo)=>{"use strict";var Kc=w(),Qc=K(),Ao=Ni(),Oi=function(){};function Gc(i){return function(e,t,n){Oi("create ajax sender",e,t);var r={};typeof t=="string"&&(r.headers={"Content-type":"text/plain"});var s=Qc.addPath(e,"/xhr_send"),o=new i("POST",s,t,r);return o.once("finish",function(a){if(Oi("finish",a),o=null,a!==200&&a!==204)return n(new Error("http status "+a));n()}),function(){Oi("abort"),o.close(),o=null;var a=new Error("Aborted");a.code=1e3,n(a)}}}function No(i,e,t,n){Ao.call(this,i,e,Gc(n),t,n)}Kc(No,Ao);Oo.exports=No});var At=f((tp,Io)=>{"use strict";var Xc=w(),Mo=B().EventEmitter,xe=function(){};function Ct(i,e){xe(i),Mo.call(this);var t=this;this.bufferPosition=0,this.xo=new e("POST",i,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(n,r){xe("finish",n,r),t._chunkHandler(n,r),t.xo=null;var s=n===200?"network":"permanent";xe("close",s),t.emit("close",null,s),t._cleanup()})}Xc(Ct,Mo);Ct.prototype._chunkHandler=function(i,e){if(xe("_chunkHandler",i),!(i!==200||!e))for(var t=-1;;this.bufferPosition+=t+1){var n=e.slice(this.bufferPosition);if(t=n.indexOf(`
`),t===-1)break;var r=n.slice(0,t);r&&(xe("message",r),this.emit("message",r))}};Ct.prototype._cleanup=function(){xe("_cleanup"),this.removeAllListeners()};Ct.prototype.abort=function(){xe("abort"),this.xo&&(this.xo.close(),xe("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()};Io.exports=Ct});var Mi=f((np,qo)=>{"use strict";var Po=B().EventEmitter,Jc=w(),Do=be(),Yc=K(),Nt=global.XMLHttpRequest,H=function(){};function fe(i,e,t,n){H(i,e);var r=this;Po.call(this),setTimeout(function(){r._start(i,e,t,n)},0)}Jc(fe,Po);fe.prototype._start=function(i,e,t,n){var r=this;try{this.xhr=new Nt}catch{}if(!this.xhr){H("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}e=Yc.addQuery(e,"t="+ +new Date),this.unloadRef=Do.unloadAdd(function(){H("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(i,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){H("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(o){H("exception",o),this.emit("finish",0,""),this._cleanup(!1);return}if((!n||!n.noCredentials)&&fe.supportsCORS&&(H("withCredentials"),this.xhr.withCredentials=!0),n&&n.headers)for(var s in n.headers)this.xhr.setRequestHeader(s,n.headers[s]);this.xhr.onreadystatechange=function(){if(r.xhr){var o=r.xhr,a,l;switch(H("readyState",o.readyState),o.readyState){case 3:try{l=o.status,a=o.responseText}catch{}H("status",l),l===1223&&(l=204),l===200&&a&&a.length>0&&(H("chunk"),r.emit("chunk",l,a));break;case 4:l=o.status,H("status",l),l===1223&&(l=204),(l===12005||l===12029)&&(l=0),H("finish",l,o.responseText),r.emit("finish",l,o.responseText),r._cleanup(!1);break}}};try{r.xhr.send(t)}catch{r.emit("finish",0,""),r._cleanup(!1)}};fe.prototype._cleanup=function(i){if(H("cleanup"),!!this.xhr){if(this.removeAllListeners(),Do.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),i)try{this.xhr.abort()}catch{}this.unloadRef=this.xhr=null}};fe.prototype.close=function(){H("close"),this._cleanup(!0)};fe.enabled=!!Nt;var xo=["Active"].concat("Object").join("X");!fe.enabled&&xo in global&&(H("overriding xmlhttprequest"),Nt=function(){try{return new global[xo]("Microsoft.XMLHTTP")}catch{return null}},fe.enabled=!!new Nt);var Ro=!1;try{Ro="withCredentials"in new Nt}catch{}fe.supportsCORS=Ro;qo.exports=fe});var Ot=f((ip,Fo)=>{"use strict";var Zc=w(),yn=Mi();function Ii(i,e,t,n){yn.call(this,i,e,t,n)}Zc(Ii,yn);Ii.enabled=yn.enabled&&yn.supportsCORS;Fo.exports=Ii});var ut=f((rp,Lo)=>{"use strict";var eu=w(),xi=Mi();function Pi(i,e,t){xi.call(this,i,e,t,{noCredentials:!0})}eu(Pi,xi);Pi.enabled=xi.enabled;Lo.exports=Pi});var ht=f((sp,Bo)=>{"use strict";Bo.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch{return!1}}}});var Vo=f((op,Uo)=>{"use strict";var tu=w(),jo=We(),nu=At(),Di=Ot(),iu=ut(),ru=ht();function dt(i){if(!iu.enabled&&!Di.enabled)throw new Error("Transport created when disabled");jo.call(this,i,"/xhr_streaming",nu,Di)}tu(dt,jo);dt.enabled=function(i){return i.nullOrigin||ru.isOpera()?!1:Di.enabled};dt.transportName="xhr-streaming";dt.roundTrips=2;dt.needBody=!!global.document;Uo.exports=dt});var _n=f((ap,Wo)=>{"use strict";var Ho=B().EventEmitter,su=w(),zo=be(),ou=ht(),au=K(),Pe=function(){};function $e(i,e,t){Pe(i,e);var n=this;Ho.call(this),setTimeout(function(){n._start(i,e,t)},0)}su($e,Ho);$e.prototype._start=function(i,e,t){Pe("_start");var n=this,r=new global.XDomainRequest;e=au.addQuery(e,"t="+ +new Date),r.onerror=function(){Pe("onerror"),n._error()},r.ontimeout=function(){Pe("ontimeout"),n._error()},r.onprogress=function(){Pe("progress",r.responseText),n.emit("chunk",200,r.responseText)},r.onload=function(){Pe("load"),n.emit("finish",200,r.responseText),n._cleanup(!1)},this.xdr=r,this.unloadRef=zo.unloadAdd(function(){n._cleanup(!0)});try{this.xdr.open(i,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(t)}catch{this._error()}};$e.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)};$e.prototype._cleanup=function(i){if(Pe("cleanup",i),!!this.xdr){if(this.removeAllListeners(),zo.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,i)try{this.xdr.abort()}catch{}this.unloadRef=this.xdr=null}};$e.prototype.close=function(){Pe("close"),this._cleanup(!0)};$e.enabled=!!(global.XDomainRequest&&ou.hasDomain());Wo.exports=$e});var qi=f((lp,Ko)=>{"use strict";var lu=w(),$o=We(),cu=At(),Ri=_n();function Mt(i){if(!Ri.enabled)throw new Error("Transport created when disabled");$o.call(this,i,"/xhr_streaming",cu,Ri)}lu(Mt,$o);Mt.enabled=function(i){return i.cookie_needed||i.nullOrigin?!1:Ri.enabled&&i.sameScheme};Mt.transportName="xdr-streaming";Mt.roundTrips=2;Ko.exports=Mt});var Fi=f((cp,Qo)=>{"use strict";Qo.exports=global.EventSource});var Jo=f((up,Xo)=>{"use strict";var uu=w(),Go=B().EventEmitter,hu=Fi(),ft=function(){};function It(i){ft(i),Go.call(this);var e=this,t=this.es=new hu(i);t.onmessage=function(n){ft("message",n.data),e.emit("message",decodeURI(n.data))},t.onerror=function(n){ft("error",t.readyState,n);var r=t.readyState!==2?"network":"permanent";e._cleanup(),e._close(r)}}uu(It,Go);It.prototype.abort=function(){ft("abort"),this._cleanup(),this._close("user")};It.prototype._cleanup=function(){ft("cleanup");var i=this.es;i&&(i.onmessage=i.onerror=null,i.close(),this.es=null)};It.prototype._close=function(i){ft("close",i);var e=this;setTimeout(function(){e.emit("close",null,i),e.removeAllListeners()},200)};Xo.exports=It});var Li=f((hp,Zo)=>{"use strict";var du=w(),Yo=We(),fu=Jo(),pu=Ot(),mu=Fi();function pt(i){if(!pt.enabled())throw new Error("Transport created when disabled");Yo.call(this,i,"/eventsource",fu,pu)}du(pt,Yo);pt.enabled=function(){return!!mu};pt.transportName="eventsource";pt.roundTrips=2;Zo.exports=pt});var Bi=f((dp,ea)=>{"use strict";ea.exports="1.6.1"});var mt=f((fp,we)=>{"use strict";var bn=be(),gu=ht(),Ke=function(){};we.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){we.exports.WPrefix in global||(global[we.exports.WPrefix]={})},postMessage:function(i,e){global.parent!==global?global.parent.postMessage(JSON.stringify({windowId:we.exports.currentWindowId,type:i,data:e||""}),"*"):Ke("Cannot postMessage, no parent window.",i,e)},createIframe:function(i,e){var t=global.document.createElement("iframe"),n,r,s=function(){Ke("unattach"),clearTimeout(n);try{t.onload=null}catch{}t.onerror=null},o=function(){Ke("cleanup"),t&&(s(),setTimeout(function(){t&&t.parentNode.removeChild(t),t=null},0),bn.unloadDel(r))},a=function(c){Ke("onerror",c),t&&(o(),e(c))},l=function(c,h){Ke("post",c,h),setTimeout(function(){try{t&&t.contentWindow&&t.contentWindow.postMessage(c,h)}catch{}},0)};return t.src=i,t.style.display="none",t.style.position="absolute",t.onerror=function(){a("onerror")},t.onload=function(){Ke("onload"),clearTimeout(n),n=setTimeout(function(){a("onload timeout")},2e3)},global.document.body.appendChild(t),n=setTimeout(function(){a("timeout")},15e3),r=bn.unloadAdd(o),{post:l,cleanup:o,loaded:s}},createHtmlfile:function(i,e){var t=["Active"].concat("Object").join("X"),n=new global[t]("htmlfile"),r,s,o,a=function(){clearTimeout(r),o.onerror=null},l=function(){n&&(a(),bn.unloadDel(s),o.parentNode.removeChild(o),o=n=null,CollectGarbage())},c=function(g){Ke("onerror",g),n&&(l(),e(g))},h=function(g,_){try{setTimeout(function(){o&&o.contentWindow&&o.contentWindow.postMessage(g,_)},0)}catch{}};n.open(),n.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),n.close(),n.parentWindow[we.exports.WPrefix]=global[we.exports.WPrefix];var u=n.createElement("div");return n.body.appendChild(u),o=n.createElement("iframe"),u.appendChild(o),o.src=i,o.onerror=function(){c("onerror")},r=setTimeout(function(){c("timeout")},15e3),s=bn.unloadAdd(l),{post:h,cleanup:l,loaded:a}}};we.exports.iframeEnabled=!1;global.document&&(we.exports.iframeEnabled=(typeof global.postMessage=="function"||typeof global.postMessage=="object")&&!gu.isKonqueror())});var Ui=f((pp,ra)=>{"use strict";var yu=w(),ta=B().EventEmitter,_u=Bi(),ji=K(),na=mt(),ia=be(),bu=He(),pe=function(){};function me(i,e,t){if(!me.enabled())throw new Error("Transport created when disabled");ta.call(this);var n=this;this.origin=ji.getOrigin(t),this.baseUrl=t,this.transUrl=e,this.transport=i,this.windowId=bu.string(8);var r=ji.addPath(t,"/iframe.html")+"#"+this.windowId;pe(i,e,r),this.iframeObj=na.createIframe(r,function(s){pe("err callback"),n.emit("close",1006,"Unable to load an iframe ("+s+")"),n.close()}),this.onmessageCallback=this._message.bind(this),ia.attachEvent("message",this.onmessageCallback)}yu(me,ta);me.prototype.close=function(){if(pe("close"),this.removeAllListeners(),this.iframeObj){ia.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch{}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}};me.prototype._message=function(i){if(pe("message",i.data),!ji.isOriginEqual(i.origin,this.origin)){pe("not same origin",i.origin,this.origin);return}var e;try{e=JSON.parse(i.data)}catch{pe("bad json",i.data);return}if(e.windowId!==this.windowId){pe("mismatched window id",e.windowId,this.windowId);return}switch(e.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([_u,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",e.data);break;case"c":var t;try{t=JSON.parse(e.data)}catch{pe("bad json",e.data);return}this.emit("close",t[0],t[1]),this.close();break}};me.prototype.postMessage=function(i,e){pe("postMessage",i,e),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:i,data:e||""}),this.origin)};me.prototype.send=function(i){pe("send",i),this.postMessage("m",i)};me.enabled=function(){return na.iframeEnabled};me.transportName="iframe";me.roundTrips=2;ra.exports=me});var vn=f((mp,sa)=>{"use strict";sa.exports={isObject:function(i){var e=typeof i;return e==="function"||e==="object"&&!!i},extend:function(i){if(!this.isObject(i))return i;for(var e,t,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i[t]=e[t])}return i}}});var En=f((gp,oa)=>{"use strict";var vu=w(),Sn=Ui(),Su=vn();oa.exports=function(i){function e(t,n){Sn.call(this,i.transportName,t,n)}return vu(e,Sn),e.enabled=function(t,n){if(!global.document)return!1;var r=Su.extend({},n);return r.sameOrigin=!0,i.enabled(r)&&Sn.enabled()},e.transportName="iframe-"+i.transportName,e.needBody=!0,e.roundTrips=Sn.roundTrips+i.roundTrips-1,e.facadeTransport=i,e}});var ua=f((yp,ca)=>{"use strict";var Eu=w(),Qe=mt(),wu=K(),la=B().EventEmitter,Tu=He(),Te=function(){};function ne(i){Te(i),la.call(this);var e=this;Qe.polluteGlobalNamespace(),this.id="a"+Tu.string(6),i=wu.addQuery(i,"c="+decodeURIComponent(Qe.WPrefix+"."+this.id)),Te("using htmlfile",ne.htmlfileEnabled);var t=ne.htmlfileEnabled?Qe.createHtmlfile:Qe.createIframe;global[Qe.WPrefix][this.id]={start:function(){Te("start"),e.iframeObj.loaded()},message:function(n){Te("message",n),e.emit("message",n)},stop:function(){Te("stop"),e._cleanup(),e._close("network")}},this.iframeObj=t(i,function(){Te("callback"),e._cleanup(),e._close("permanent")})}Eu(ne,la);ne.prototype.abort=function(){Te("abort"),this._cleanup(),this._close("user")};ne.prototype._cleanup=function(){Te("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[Qe.WPrefix][this.id]};ne.prototype._close=function(i){Te("_close",i),this.emit("close",null,i),this.removeAllListeners()};ne.htmlfileEnabled=!1;var aa=["Active"].concat("Object").join("X");if(aa in global)try{ne.htmlfileEnabled=!!new global[aa]("htmlfile")}catch{}ne.enabled=ne.htmlfileEnabled||Qe.iframeEnabled;ca.exports=ne});var Hi=f((_p,da)=>{"use strict";var ku=w(),Vi=ua(),Cu=ut(),ha=We();function xt(i){if(!Vi.enabled)throw new Error("Transport created when disabled");ha.call(this,i,"/htmlfile",Vi,Cu)}ku(xt,ha);xt.enabled=function(i){return Vi.enabled&&i.sameOrigin};xt.transportName="htmlfile";xt.roundTrips=2;da.exports=xt});var Wi=f((bp,ma)=>{"use strict";var Au=w(),fa=We(),Nu=At(),zi=Ot(),pa=ut();function Pt(i){if(!pa.enabled&&!zi.enabled)throw new Error("Transport created when disabled");fa.call(this,i,"/xhr",Nu,zi)}Au(Pt,fa);Pt.enabled=function(i){return i.nullOrigin?!1:pa.enabled&&i.sameOrigin?!0:zi.enabled};Pt.transportName="xhr-polling";Pt.roundTrips=2;ma.exports=Pt});var ba=f((vp,_a)=>{"use strict";var Ou=w(),ya=We(),Mu=qi(),Iu=At(),ga=_n();function Dt(i){if(!ga.enabled)throw new Error("Transport created when disabled");ya.call(this,i,"/xhr",Iu,ga)}Ou(Dt,ya);Dt.enabled=Mu.enabled;Dt.transportName="xdr-polling";Dt.roundTrips=2;_a.exports=Dt});var wa=f((Sp,Ea)=>{"use strict";var Rt=mt(),va=He(),xu=ht(),Pu=K(),Du=w(),Sa=B().EventEmitter,ie=function(){};function Y(i){ie(i);var e=this;Sa.call(this),Rt.polluteGlobalNamespace(),this.id="a"+va.string(6);var t=Pu.addQuery(i,"c="+encodeURIComponent(Rt.WPrefix+"."+this.id));global[Rt.WPrefix][this.id]=this._callback.bind(this),this._createScript(t),this.timeoutId=setTimeout(function(){ie("timeout"),e._abort(new Error("JSONP script loaded abnormally (timeout)"))},Y.timeout)}Du(Y,Sa);Y.prototype.abort=function(){if(ie("abort"),global[Rt.WPrefix][this.id]){var i=new Error("JSONP user aborted read");i.code=1e3,this._abort(i)}};Y.timeout=35e3;Y.scriptErrorTimeout=1e3;Y.prototype._callback=function(i){ie("_callback",i),this._cleanup(),!this.aborting&&(i&&(ie("message",i),this.emit("message",i)),this.emit("close",null,"network"),this.removeAllListeners())};Y.prototype._abort=function(i){ie("_abort",i),this._cleanup(),this.aborting=!0,this.emit("close",i.code,i.message),this.removeAllListeners()};Y.prototype._cleanup=function(){if(ie("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var i=this.script;i.parentNode.removeChild(i),i.onreadystatechange=i.onerror=i.onload=i.onclick=null,this.script=null}delete global[Rt.WPrefix][this.id]};Y.prototype._scriptError=function(){ie("_scriptError");var i=this;this.errorTimer||(this.errorTimer=setTimeout(function(){i.loadedOkay||i._abort(new Error("JSONP script loaded abnormally (onerror)"))},Y.scriptErrorTimeout))};Y.prototype._createScript=function(i){ie("_createScript",i);var e=this,t=this.script=global.document.createElement("script"),n;if(t.id="a"+va.string(8),t.src=i,t.type="text/javascript",t.charset="UTF-8",t.onerror=this._scriptError.bind(this),t.onload=function(){ie("onload"),e._abort(new Error("JSONP script loaded abnormally (onload)"))},t.onreadystatechange=function(){if(ie("onreadystatechange",t.readyState),/loaded|closed/.test(t.readyState)){if(t&&t.htmlFor&&t.onclick){e.loadedOkay=!0;try{t.onclick()}catch{}}t&&e._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof t.async>"u"&&global.document.attachEvent)if(xu.isOpera())n=this.script2=global.document.createElement("script"),n.text="try{var a = document.getElementById('"+t.id+"'); if(a)a.onerror();}catch(x){};",t.async=n.async=!1;else{try{t.htmlFor=t.id,t.event="onclick"}catch{}t.async=!0}typeof t.async<"u"&&(t.async=!0);var r=global.document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild),n&&r.insertBefore(n,r.firstChild)};Ea.exports=Y});var Ca=f((Ep,ka)=>{"use strict";var Ru=He(),Ta=K(),ke=function(){},Q,qt;function qu(i){ke("createIframe",i);try{return global.document.createElement('<iframe name="'+i+'">')}catch{var e=global.document.createElement("iframe");return e.name=i,e}}function Fu(){ke("createForm"),Q=global.document.createElement("form"),Q.style.display="none",Q.style.position="absolute",Q.method="POST",Q.enctype="application/x-www-form-urlencoded",Q.acceptCharset="UTF-8",qt=global.document.createElement("textarea"),qt.name="d",Q.appendChild(qt),global.document.body.appendChild(Q)}ka.exports=function(i,e,t){ke(i,e),Q||Fu();var n="a"+Ru.string(8);Q.target=n,Q.action=Ta.addQuery(Ta.addPath(i,"/jsonp_send"),"i="+n);var r=qu(n);r.id=n,r.style.display="none",Q.appendChild(r);try{qt.value=e}catch{}Q.submit();var s=function(o){ke("completed",n,o),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){ke("cleaning up",n),r.parentNode.removeChild(r),r=null},500),qt.value="",t(o))};return r.onerror=function(){ke("onerror",n),s()},r.onload=function(){ke("onload",n),s()},r.onreadystatechange=function(o){ke("onreadystatechange",n,r.readyState,o),r.readyState==="complete"&&s()},function(){ke("aborted",n),s(new Error("Aborted"))}}});var Oa=f((wp,Na)=>{"use strict";var Lu=w(),Aa=Ni(),Bu=wa(),ju=Ca();function Ge(i){if(!Ge.enabled())throw new Error("Transport created when disabled");Aa.call(this,i,"/jsonp",ju,Bu)}Lu(Ge,Aa);Ge.enabled=function(){return!!global.document};Ge.transportName="jsonp-polling";Ge.roundTrips=1;Ge.needBody=!0;Na.exports=Ge});var Ia=f((Tp,Ma)=>{"use strict";Ma.exports=[bo(),Vo(),qi(),Li(),En()(Li()),Hi(),En()(Hi()),Wi(),ba(),En()(Wi()),Oa()]});var La=f(()=>{"use strict";var Ft=Array.prototype,Gi=Object.prototype,Uu=Function.prototype,Lt=String.prototype,$i=Ft.slice,Xi=Gi.toString,Da=function(i){return Gi.toString.call(i)==="[object Function]"},Vu=function(e){return Xi.call(e)==="[object Array]"},Ra=function(e){return Xi.call(e)==="[object String]"},Hu=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch{return!1}}(),Qi;Hu?Qi=function(i,e,t,n){!n&&e in i||Object.defineProperty(i,e,{configurable:!0,enumerable:!1,writable:!0,value:t})}:Qi=function(i,e,t,n){!n&&e in i||(i[e]=t)};var Bt=function(i,e,t){for(var n in e)Gi.hasOwnProperty.call(e,n)&&Qi(i,n,e[n],t)},qa=function(i){if(i==null)throw new TypeError("can't convert "+i+" to object");return Object(i)};function zu(i){var e=+i;return e!==e?e=0:e!==0&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}function Wu(i){return i>>>0}function Ki(){}Bt(Uu,{bind:function(e){var t=this;if(!Da(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var n=$i.call(arguments,1),r=function(){if(this instanceof l){var c=t.apply(this,n.concat($i.call(arguments)));return Object(c)===c?c:this}else return t.apply(e,n.concat($i.call(arguments)))},s=Math.max(0,t.length-n.length),o=[],a=0;a<s;a++)o.push("$"+a);var l=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this, arguments); }")(r);return t.prototype&&(Ki.prototype=t.prototype,l.prototype=new Ki,Ki.prototype=null),l}});Bt(Array,{isArray:Vu});var xa=Object("a"),Fa=xa[0]!=="a"||!(0 in xa),$u=function(e){var t=!0,n=!0;return e&&(e.call("foo",function(r,s,o){typeof o!="object"&&(t=!1)}),e.call([1],function(){"use strict";n=typeof this=="string"},"x")),!!e&&t&&n};Bt(Ft,{forEach:function(e){var t=qa(this),n=Fa&&Ra(this)?this.split(""):t,r=arguments[1],s=-1,o=n.length>>>0;if(!Da(e))throw new TypeError;for(;++s<o;)s in n&&e.call(r,n[s],s,t)}},!$u(Ft.forEach));var Ku=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;Bt(Ft,{indexOf:function(e){var t=Fa&&Ra(this)?this.split(""):qa(this),n=t.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=zu(arguments[1])),r=r>=0?r:Math.max(0,n+r);r<n;r++)if(r in t&&t[r]===e)return r;return-1}},Ku);var Pa=Lt.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var i=/()??/.exec("")[1]===void 0;Lt.split=function(e,t){var n=this;if(e===void 0&&t===0)return[];if(Xi.call(e)!=="[object RegExp]")return Pa.call(this,e,t);var r=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),o=0,a,l,c,h;for(e=new RegExp(e.source,s+"g"),n+="",i||(a=new RegExp("^"+e.source+"$(?!\\s)",s)),t=t===void 0?-1>>>0:Wu(t);(l=e.exec(n))&&(c=l.index+l[0].length,!(c>o&&(r.push(n.slice(o,l.index)),!i&&l.length>1&&l[0].replace(a,function(){for(var u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(l[u]=void 0)}),l.length>1&&l.index<n.length&&Ft.push.apply(r,l.slice(1)),h=l[0].length,o=c,r.length>=t)));)e.lastIndex===l.index&&e.lastIndex++;return o===n.length?(h||!e.test(""))&&r.push(""):r.push(n.slice(o)),r.length>t?r.slice(0,t):r}}():"0".split(void 0,0).length&&(Lt.split=function(e,t){return e===void 0&&t===0?[]:Pa.call(this,e,t)});var Qu=Lt.substr,Gu="".substr&&"0b".substr(-1)!=="b";Bt(Lt,{substr:function(e,t){return Qu.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},Gu)});var ja=f((Ap,Ba)=>{"use strict";var wn=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,Ji,Xu=function(i){var e,t={},n=[];for(e=0;e<65536;e++)n.push(String.fromCharCode(e));return i.lastIndex=0,n.join("").replace(i,function(r){return t[r]="\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4),""}),i.lastIndex=0,t};Ba.exports={quote:function(i){var e=JSON.stringify(i);return wn.lastIndex=0,wn.test(e)?(Ji||(Ji=Xu(wn)),e.replace(wn,function(t){return Ji[t]})):e}}});var Va=f((Np,Ua)=>{"use strict";var Tn=function(){};Ua.exports=function(i){return{filterToEnabled:function(e,t){var n={main:[],facade:[]};return e?typeof e=="string"&&(e=[e]):e=[],i.forEach(function(r){if(r){if(r.transportName==="websocket"&&t.websocket===!1){Tn("disabled from server","websocket");return}if(e.length&&e.indexOf(r.transportName)===-1){Tn("not in whitelist",r.transportName);return}r.enabled(t)?(Tn("enabled",r.transportName),n.main.push(r),r.facadeTransport&&n.facade.push(r.facadeTransport)):Tn("disabled",r.transportName)}}),n}}}});var za=f((Op,Ha)=>{"use strict";var Yi={};["log","debug","warn"].forEach(function(i){var e;try{e=global.console&&global.console[i]&&global.console[i].apply}catch{}Yi[i]=e?function(){return global.console[i].apply(global.console,arguments)}:i==="log"?function(){}:Yi.log});Ha.exports=Yi});var kn=f((Mp,Wa)=>{"use strict";function Xe(i){this.type=i}Xe.prototype.initEvent=function(i,e,t){return this.type=i,this.bubbles=e,this.cancelable=t,this.timeStamp=+new Date,this};Xe.prototype.stopPropagation=function(){};Xe.prototype.preventDefault=function(){};Xe.CAPTURING_PHASE=1;Xe.AT_TARGET=2;Xe.BUBBLING_PHASE=3;Wa.exports=Xe});var Zi=f((Ip,$a)=>{"use strict";$a.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}});var Xa=f((xp,Ga)=>{"use strict";var Ju=w(),Ka=kn();function Qa(){Ka.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}Ju(Qa,Ka);Ga.exports=Qa});var el=f((Pp,Za)=>{"use strict";var Yu=w(),Ja=kn();function Ya(i){Ja.call(this),this.initEvent("message",!1,!1),this.data=i}Yu(Ya,Ja);Za.exports=Ya});var il=f((Dp,nl)=>{"use strict";var tl=B().EventEmitter,Zu=w();function jt(){var i=this;tl.call(this),this.to=setTimeout(function(){i.emit("finish",200,"{}")},jt.timeout)}Zu(jt,tl);jt.prototype.close=function(){clearTimeout(this.to)};jt.timeout=2e3;nl.exports=jt});var tr=f((Rp,sl)=>{"use strict";var rl=B().EventEmitter,eh=w(),th=vn(),nh=function(){};function er(i,e){rl.call(this);var t=this,n=+new Date;this.xo=new e("GET",i),this.xo.once("finish",function(r,s){var o,a;if(r===200){if(a=+new Date-n,s)try{o=JSON.parse(s)}catch{nh("bad json",s)}th.isObject(o)||(o={})}t.emit("finish",o,a),t.removeAllListeners()})}eh(er,rl);er.prototype.close=function(){this.removeAllListeners(),this.xo.close()};sl.exports=er});var nr=f((qp,al)=>{"use strict";var ih=w(),ol=B().EventEmitter,rh=ut(),sh=tr();function Cn(i){var e=this;ol.call(this),this.ir=new sh(i,rh),this.ir.once("finish",function(t,n){e.ir=null,e.emit("message",JSON.stringify([t,n]))})}ih(Cn,ol);Cn.transportName="iframe-info-receiver";Cn.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()};al.exports=Cn});var hl=f((Fp,ul)=>{"use strict";var ll=B().EventEmitter,oh=w(),ah=be(),cl=Ui(),lh=nr(),ch=function(){};function An(i,e){var t=this;ll.call(this);var n=function(){var r=t.ifr=new cl(lh.transportName,e,i);r.once("message",function(s){if(s){var o;try{o=JSON.parse(s)}catch{ch("bad json",s),t.emit("finish"),t.close();return}var a=o[0],l=o[1];t.emit("finish",a,l)}t.close()}),r.once("close",function(){t.emit("finish"),t.close()})};global.document.body?n():ah.attachEvent("load",n)}oh(An,ll);An.enabled=function(){return cl.enabled()};An.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null};ul.exports=An});var yl=f((Lp,gl)=>{"use strict";var ml=B().EventEmitter,uh=w(),hh=K(),dl=_n(),fl=Ot(),dh=ut(),fh=il(),pl=hl(),Nn=tr(),gt=function(){};function Ce(i,e){gt(i);var t=this;ml.call(this),setTimeout(function(){t.doXhr(i,e)},0)}uh(Ce,ml);Ce._getReceiver=function(i,e,t){return t.sameOrigin?new Nn(e,dh):fl.enabled?new Nn(e,fl):dl.enabled&&t.sameScheme?new Nn(e,dl):pl.enabled()?new pl(i,e):new Nn(e,fh)};Ce.prototype.doXhr=function(i,e){var t=this,n=hh.addPath(i,"/info");gt("doXhr",n),this.xo=Ce._getReceiver(i,n,e),this.timeoutRef=setTimeout(function(){gt("timeout"),t._cleanup(!1),t.emit("finish")},Ce.timeout),this.xo.once("finish",function(r,s){gt("finish",r,s),t._cleanup(!0),t.emit("finish",r,s)})};Ce.prototype._cleanup=function(i){gt("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!i&&this.xo&&this.xo.close(),this.xo=null};Ce.prototype.close=function(){gt("close"),this.removeAllListeners(),this._cleanup(!1)};Ce.timeout=8e3;gl.exports=Ce});var vl=f((Bp,bl)=>{"use strict";var _l=mt();function Ut(i){this._transport=i,i.on("message",this._transportMessage.bind(this)),i.on("close",this._transportClose.bind(this))}Ut.prototype._transportClose=function(i,e){_l.postMessage("c",JSON.stringify([i,e]))};Ut.prototype._transportMessage=function(i){_l.postMessage("t",i)};Ut.prototype._send=function(i){this._transport.send(i)};Ut.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()};bl.exports=Ut});var Tl=f((jp,wl)=>{"use strict";var Sl=K(),ph=be(),mh=vl(),El=nr(),ir=mt(),On=Zi(),rr=function(){};wl.exports=function(i,e){var t={};e.forEach(function(r){r.facadeTransport&&(t[r.facadeTransport.transportName]=r.facadeTransport)}),t[El.transportName]=El;var n;i.bootstrap_iframe=function(){var r;ir.currentWindowId=On.hash.slice(1);var s=function(o){if(o.source===parent&&(typeof n>"u"&&(n=o.origin),o.origin===n)){var a;try{a=JSON.parse(o.data)}catch{rr("bad json",o.data);return}if(a.windowId===ir.currentWindowId)switch(a.type){case"s":var l;try{l=JSON.parse(a.data)}catch{rr("bad json",a.data);break}var c=l[0],h=l[1],u=l[2],g=l[3];if(rr(c,h,u,g),c!==i.version)throw new Error('Incompatible SockJS! Main site uses: "'+c+'", the iframe: "'+i.version+'".');if(!Sl.isOriginEqual(u,On.href)||!Sl.isOriginEqual(g,On.href))throw new Error("Can't connect to different domain from within an iframe. ("+On.href+", "+u+", "+g+")");r=new mh(new t[h](u,g));break;case"m":r._send(a.data);break;case"c":r&&r._close(),r=null;break}}};ph.attachEvent("message",s),ir.postMessage("s")}}});var Il=f((Up,Ml)=>{"use strict";La();var gh=Ei(),yh=w(),kl=He(),_h=ja(),Vt=K(),bh=be(),vh=Va(),Sh=vn(),Eh=ht(),wh=za(),sr=kn(),Al=Ti(),Mn=Zi(),Th=Xa(),Cl=el(),kh=yl(),I=function(){},Nl;function T(i,e,t){if(!(this instanceof T))return new T(i,e,t);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");Al.call(this),this.readyState=T.CONNECTING,this.extensions="",this.protocol="",t=t||{},t.protocols_whitelist&&wh.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=t.transports,this._transportOptions=t.transportOptions||{},this._timeout=t.timeout||0;var n=t.sessionId||8;if(typeof n=="function")this._generateSessionId=n;else if(typeof n=="number")this._generateSessionId=function(){return kl.string(n)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=t.server||kl.numberString(1e3);var r=new gh(i);if(!r.host||!r.protocol)throw new SyntaxError("The URL '"+i+"' is invalid");if(r.hash)throw new SyntaxError("The URL must not contain a fragment");if(r.protocol!=="http:"&&r.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+r.protocol+"' is not allowed.");var s=r.protocol==="https:";if(Mn.protocol==="https:"&&!s&&!Vt.isLoopbackAddr(r.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var o=e.sort();o.forEach(function(l,c){if(!l)throw new SyntaxError("The protocols entry '"+l+"' is invalid.");if(c<o.length-1&&l===o[c+1])throw new SyntaxError("The protocols entry '"+l+"' is duplicated.")});var a=Vt.getOrigin(Mn.href);this._origin=a?a.toLowerCase():null,r.set("pathname",r.pathname.replace(/\/+$/,"")),this.url=r.href,I("using url",this.url),this._urlInfo={nullOrigin:!Eh.hasDomain(),sameOrigin:Vt.isOriginEqual(this.url,Mn.href),sameScheme:Vt.isSchemeEqual(this.url,Mn.href)},this._ir=new kh(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}yh(T,Al);function Ol(i){return i===1e3||i>=3e3&&i<=4999}T.prototype.close=function(i,e){if(i&&!Ol(i))throw new Error("InvalidAccessError: Invalid code");if(e&&e.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===T.CLOSING||this.readyState===T.CLOSED)){var t=!0;this._close(i||1e3,e||"Normal closure",t)}};T.prototype.send=function(i){if(typeof i!="string"&&(i=""+i),this.readyState===T.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===T.OPEN&&this._transport.send(_h.quote(i))};T.version=Bi();T.CONNECTING=0;T.OPEN=1;T.CLOSING=2;T.CLOSED=3;T.prototype._receiveInfo=function(i,e){if(I("_receiveInfo",e),this._ir=null,!i){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(e),this._transUrl=i.base_url?i.base_url:this.url,i=Sh.extend(i,this._urlInfo),I("info",i);var t=Nl.filterToEnabled(this._transportsWhitelist,i);this._transports=t.main,I(this._transports.length+" enabled transports"),this._connect()};T.prototype._connect=function(){for(var i=this._transports.shift();i;i=this._transports.shift()){if(I("attempt",i.transportName),i.needBody&&(!global.document.body||typeof global.document.readyState<"u"&&global.document.readyState!=="complete"&&global.document.readyState!=="interactive")){I("waiting for body"),this._transports.unshift(i),bh.attachEvent("load",this._connect.bind(this));return}var e=Math.max(this._timeout,this._rto*i.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e),I("using timeout",e);var t=Vt.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),n=this._transportOptions[i.transportName];I("transport url",t);var r=new i(t,this._transUrl,n);r.on("message",this._transportMessage.bind(this)),r.once("close",this._transportClose.bind(this)),r.transportName=i.transportName,this._transport=r;return}this._close(2e3,"All transports failed",!1)};T.prototype._transportTimeout=function(){I("_transportTimeout"),this.readyState===T.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))};T.prototype._transportMessage=function(i){I("_transportMessage",i);var e=this,t=i.slice(0,1),n=i.slice(1),r;switch(t){case"o":this._open();return;case"h":this.dispatchEvent(new sr("heartbeat")),I("heartbeat",this.transport);return}if(n)try{r=JSON.parse(n)}catch{I("bad json",n)}if(typeof r>"u"){I("empty payload",n);return}switch(t){case"a":Array.isArray(r)&&r.forEach(function(s){I("message",e.transport,s),e.dispatchEvent(new Cl(s))});break;case"m":I("message",this.transport,r),this.dispatchEvent(new Cl(r));break;case"c":Array.isArray(r)&&r.length===2&&this._close(r[0],r[1],!0);break}};T.prototype._transportClose=function(i,e){if(I("_transportClose",this.transport,i,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!Ol(i)&&i!==2e3&&this.readyState===T.CONNECTING){this._connect();return}this._close(i,e)};T.prototype._open=function(){I("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===T.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=T.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new sr("open")),I("connected",this.transport)):this._close(1006,"Server lost session")};T.prototype._close=function(i,e,t){I("_close",this.transport,i,e,t,this.readyState);var n=!1;if(this._ir&&(n=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===T.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=T.CLOSING,setTimeout(function(){this.readyState=T.CLOSED,n&&this.dispatchEvent(new sr("error"));var r=new Th("close");r.wasClean=t||!1,r.code=i||1e3,r.reason=e,this.dispatchEvent(r),this.onmessage=this.onclose=this.onerror=null,I("disconnected")}.bind(this),0)};T.prototype.countRTO=function(i){return i>100?4*i:300+i};Ml.exports=function(i){return Nl=vh(i),Tl()(T,i),T}});var Pl=f((Vp,xl)=>{"use strict";var Ch=Ia();xl.exports=Il()(Ch);"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)});var Ve={LF:`
`,NULL:"\0"};var Tt=class i{constructor(e){let{command:t,headers:n,body:r,binaryBody:s,escapeHeaderValues:o,skipContentLengthHeader:a}=e;this.command=t,this.headers=Object.assign({},n||{}),s?(this._binaryBody=s,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=o||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=new TextDecoder().decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=new TextEncoder().encode(this._body)),this._binaryBody}static fromRawFrame(e,t){let n={},r=s=>s.replace(/^\s+|\s+$/g,"");for(let s of e.headers.reverse()){let o=s.indexOf(":"),a=r(s[0]),l=r(s[1]);t&&e.command!=="CONNECT"&&e.command!=="CONNECTED"&&(l=i.hdrValueUnEscape(l)),n[a]=l}return new i({command:e.command,headers:n,binaryBody:e.binaryBody,escapeHeaderValues:t})}toString(){return this.serializeCmdAndHeaders()}serialize(){let e=this.serializeCmdAndHeaders();return this.isBinaryBody?i.toUnit8Array(e,this._binaryBody).buffer:e+this._body+Ve.NULL}serializeCmdAndHeaders(){let e=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(let t of Object.keys(this.headers||{})){let n=this.headers[t];this.escapeHeaderValues&&this.command!=="CONNECT"&&this.command!=="CONNECTED"?e.push(`${t}:${i.hdrValueEscape(`${n}`)}`):e.push(`${t}:${n}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&e.push(`content-length:${this.bodyLength()}`),e.join(Ve.LF)+Ve.LF+Ve.LF}isBodyEmpty(){return this.bodyLength()===0}bodyLength(){let e=this.binaryBody;return e?e.length:0}static sizeOfUTF8(e){return e?new TextEncoder().encode(e).length:0}static toUnit8Array(e,t){let n=new TextEncoder().encode(e),r=new Uint8Array([0]),s=new Uint8Array(n.length+t.length+r.length);return s.set(n),s.set(t,n.length),s.set(r,n.length+t.length),s}static marshall(e){return new i(e).serialize()}static hdrValueEscape(e){return e.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(e){return e.replace(/\\r/g,"\r").replace(/\\n/g,`
`).replace(/\\c/g,":").replace(/\\\\/g,"\\")}};var ln=class{constructor(e,t){this.onFrame=e,this.onIncomingPing=t,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(e,t=!1){let n;if(typeof e=="string"?n=this._encoder.encode(e):n=new Uint8Array(e),t&&n[n.length-1]!==0){let r=new Uint8Array(n.length+1);r.set(n,0),r[n.length]=0,n=r}for(let r=0;r<n.length;r++){let s=n[r];this._onByte(s)}}_collectFrame(e){if(e!==0&&e!==13){if(e===10){this.onIncomingPing();return}this._onByte=this._collectCommand,this._reinjectByte(e)}}_collectCommand(e){if(e!==13){if(e===10){this._results.command=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_collectHeaders(e){if(e!==13){if(e===10){this._setupCollectBody();return}this._onByte=this._collectHeaderKey,this._reinjectByte(e)}}_reinjectByte(e){this._onByte(e)}_collectHeaderKey(e){if(e===58){this._headerKey=this._consumeTokenAsUTF8(),this._onByte=this._collectHeaderValue;return}this._consumeByte(e)}_collectHeaderValue(e){if(e!==13){if(e===10){this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,this._onByte=this._collectHeaders;return}this._consumeByte(e)}}_setupCollectBody(){let e=this._results.headers.filter(t=>t[0]==="content-length")[0];e?(this._bodyBytesRemaining=parseInt(e[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(e){if(e===0){this._retrievedBody();return}this._consumeByte(e)}_collectBodyFixedSize(e){if(this._bodyBytesRemaining--===0){this._retrievedBody();return}this._consumeByte(e)}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(e){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",e)}this._initState()}_consumeByte(e){this._token.push(e)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){let e=new Uint8Array(this._token);return this._token=[],e}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}};var te;(function(i){i[i.CONNECTING=0]="CONNECTING",i[i.OPEN=1]="OPEN",i[i.CLOSING=2]="CLOSING",i[i.CLOSED=3]="CLOSED"})(te=te||(te={}));var $;(function(i){i[i.ACTIVE=0]="ACTIVE",i[i.DEACTIVATING=1]="DEACTIVATING",i[i.INACTIVE=2]="INACTIVE"})($=$||($={}));var P=class{constructor(e){this.versions=e}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(e=>`v${e.replace(".","")}.stomp`)}};P.V1_0="1.0";P.V1_1="1.1";P.V1_2="1.2";P.default=new P([P.V1_2,P.V1_1,P.V1_0]);function $s(i,e){i.terminate=function(){let t=()=>{};this.onerror=t,this.onmessage=t,this.onopen=t;let n=new Date,r=Math.random().toString().substring(2,8),s=this.onclose;this.onclose=o=>{let a=new Date().getTime()-n.getTime();e(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${o.code}/${o.reason}`)},this.close(),s?.call(i,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}var cn=class{constructor(e,t,n){this._client=e,this._webSocket=t,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===P.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{let s=r.headers.subscription,o=this._subscriptions[s]||this.onUnhandledMessage,a=r,l=this,c=this._connectedVersion===P.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(h={})=>l.ack(c,s,h),a.nack=(h={})=>l.nack(c,s,h),o(a)},RECEIPT:r=>{let s=this._receiptWatchers[r.headers["receipt-id"]];s?(s(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=n.debug,this.stompVersions=n.stompVersions,this.connectHeaders=n.connectHeaders,this.disconnectHeaders=n.disconnectHeaders,this.heartbeatIncoming=n.heartbeatIncoming,this.heartbeatOutgoing=n.heartbeatOutgoing,this.splitLargeFrames=n.splitLargeFrames,this.maxWebSocketChunkSize=n.maxWebSocketChunkSize,this.forceBinaryWSFrames=n.forceBinaryWSFrames,this.logRawCommunication=n.logRawCommunication,this.appendMissingNULLonIncoming=n.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=n.discardWebsocketOnCommFailure,this.onConnect=n.onConnect,this.onDisconnect=n.onDisconnect,this.onStompError=n.onStompError,this.onWebSocketClose=n.onWebSocketClose,this.onWebSocketError=n.onWebSocketError,this.onUnhandledMessage=n.onUnhandledMessage,this.onUnhandledReceipt=n.onUnhandledReceipt,this.onUnhandledFrame=n.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){let e=new ln(t=>{let n=Tt.fromRawFrame(t,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${n}`),(this._serverFrameHandlers[n.command]||this.onUnhandledFrame)(n)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=t=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){let n=t.data instanceof ArrayBuffer?new TextDecoder().decode(t.data):t.data;this.debug(`<<< ${n}`)}e.parseChunk(t.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=t=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(t)},this._webSocket.onerror=t=>{this.onWebSocketError(t)},this._webSocket.onopen=()=>{let t=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),t["accept-version"]=this.stompVersions.supportedVersions(),t["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:t})}}_setupHeartbeat(e){if(e.version!==P.V1_1&&e.version!==P.V1_2||!e["heart-beat"])return;let[t,n]=e["heart-beat"].split(",").map(r=>parseInt(r,10));if(this.heartbeatOutgoing!==0&&n!==0){let r=Math.max(this.heartbeatOutgoing,n);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===te.OPEN&&(this._webSocket.send(Ve.LF),this.debug(">>> PING"))},r)}if(this.heartbeatIncoming!==0&&t!==0){let r=Math.max(this.heartbeatIncoming,t);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{let s=Date.now()-this._lastServerActivityTS;s>r*2&&(this.debug(`did not receive server activity for the last ${s}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===te.CONNECTING||this._webSocket.readyState===te.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){typeof this._webSocket.terminate!="function"&&$s(this._webSocket,e=>this.debug(e)),this._webSocket.terminate()}_transmit(e){let{command:t,headers:n,body:r,binaryBody:s,skipContentLengthHeader:o}=e,a=new Tt({command:t,headers:n,body:r,binaryBody:s,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:o}),l=a.serialize();if(this.logRawCommunication?this.debug(`>>> ${l}`):this.debug(`>>> ${a}`),this.forceBinaryWSFrames&&typeof l=="string"&&(l=new TextEncoder().encode(l)),typeof l!="string"||!this.splitLargeFrames)this._webSocket.send(l);else{let c=l;for(;c.length>0;){let h=c.substring(0,this.maxWebSocketChunkSize);c=c.substring(this.maxWebSocketChunkSize),this._webSocket.send(h),this.debug(`chunk sent = ${h.length}, remaining = ${c.length}`)}}}dispose(){if(this.connected)try{let e=Object.assign({},this.disconnectHeaders);e.receipt||(e.receipt=`close-${this._counter++}`),this.watchForReceipt(e.receipt,t=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(t)}),this._transmit({command:"DISCONNECT",headers:e})}catch(e){this.debug(`Ignoring error during disconnect ${e}`)}else(this._webSocket.readyState===te.CONNECTING||this._webSocket.readyState===te.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(e){let{destination:t,headers:n,body:r,binaryBody:s,skipContentLengthHeader:o}=e,a=Object.assign({destination:t},n);this._transmit({command:"SEND",headers:a,body:r,binaryBody:s,skipContentLengthHeader:o})}watchForReceipt(e,t){this._receiptWatchers[e]=t}subscribe(e,t,n={}){n=Object.assign({},n),n.id||(n.id=`sub-${this._counter++}`),n.destination=e,this._subscriptions[n.id]=t,this._transmit({command:"SUBSCRIBE",headers:n});let r=this;return{id:n.id,unsubscribe(s){return r.unsubscribe(n.id,s)}}}unsubscribe(e,t={}){t=Object.assign({},t),delete this._subscriptions[e],t.id=e,this._transmit({command:"UNSUBSCRIBE",headers:t})}begin(e){let t=e||`tx-${this._counter++}`;this._transmit({command:"BEGIN",headers:{transaction:t}});let n=this;return{id:t,commit(){n.commit(t)},abort(){n.abort(t)}}}commit(e){this._transmit({command:"COMMIT",headers:{transaction:e}})}abort(e){this._transmit({command:"ABORT",headers:{transaction:e}})}ack(e,t,n={}){n=Object.assign({},n),this._connectedVersion===P.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"ACK",headers:n})}nack(e,t,n={}){return n=Object.assign({},n),this._connectedVersion===P.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit({command:"NACK",headers:n})}};var un=class{constructor(e={}){this.stompVersions=P.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8*1024,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=$.INACTIVE;let t=()=>{};this.debug=t,this.beforeConnect=t,this.onConnect=t,this.onDisconnect=t,this.onUnhandledMessage=t,this.onUnhandledReceipt=t,this.onUnhandledFrame=t,this.onStompError=t,this.onWebSocketClose=t,this.onWebSocketError=t,this.logRawCommunication=!1,this.onChangeState=t,this.connectHeaders={},this._disconnectHeaders={},this.configure(e)}get webSocket(){return this._stompHandler?._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(e){this._disconnectHeaders=e,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===$.ACTIVE}_changeState(e){this.state=e,this.onChangeState(e)}configure(e){Object.assign(this,e)}activate(){let e=()=>{if(this.active){this.debug("Already ACTIVE, ignoring request to activate");return}this._changeState($.ACTIVE),this._connect()};this.state===$.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{e()})):e()}_connect(){return ei(this,null,function*(){if(yield this.beforeConnect(),this._stompHandler){this.debug("There is already a stompHandler, skipping the call to connect");return}if(!this.active){this.debug("Client has been marked inactive, will not attempt to connect");return}this.connectionTimeout>0&&(this._connectionWatcher&&clearTimeout(this._connectionWatcher),this._connectionWatcher=setTimeout(()=>{this.connected||(this.debug(`Connection not established in ${this.connectionTimeout}ms, closing socket`),this.forceDisconnect())},this.connectionTimeout)),this.debug("Opening Web Socket...");let e=this._createWebSocket();this._stompHandler=new cn(this,e,{debug:this.debug,stompVersions:this.stompVersions,connectHeaders:this.connectHeaders,disconnectHeaders:this._disconnectHeaders,heartbeatIncoming:this.heartbeatIncoming,heartbeatOutgoing:this.heartbeatOutgoing,splitLargeFrames:this.splitLargeFrames,maxWebSocketChunkSize:this.maxWebSocketChunkSize,forceBinaryWSFrames:this.forceBinaryWSFrames,logRawCommunication:this.logRawCommunication,appendMissingNULLonIncoming:this.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:this.discardWebsocketOnCommFailure,onConnect:t=>{if(this._connectionWatcher&&(clearTimeout(this._connectionWatcher),this._connectionWatcher=void 0),!this.active){this.debug("STOMP got connected while deactivate was issued, will disconnect now"),this._disposeStompHandler();return}this.onConnect(t)},onDisconnect:t=>{this.onDisconnect(t)},onStompError:t=>{this.onStompError(t)},onWebSocketClose:t=>{this._stompHandler=void 0,this.state===$.DEACTIVATING&&this._changeState($.INACTIVE),this.onWebSocketClose(t),this.active&&this._schedule_reconnect()},onWebSocketError:t=>{this.onWebSocketError(t)},onUnhandledMessage:t=>{this.onUnhandledMessage(t)},onUnhandledReceipt:t=>{this.onUnhandledReceipt(t)},onUnhandledFrame:t=>{this.onUnhandledFrame(t)}}),this._stompHandler.start()})}_createWebSocket(){let e;if(this.webSocketFactory)e=this.webSocketFactory();else if(this.brokerURL)e=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions());else throw new Error("Either brokerURL or webSocketFactory must be provided");return e.binaryType="arraybuffer",e}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(){return ei(this,arguments,function*(e={}){let t=e.force||!1,n=this.active,r;if(this.state===$.INACTIVE)return this.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(this._changeState($.DEACTIVATING),this._reconnector&&(clearTimeout(this._reconnector),this._reconnector=void 0),this._stompHandler&&this.webSocket.readyState!==te.CLOSED){let s=this._stompHandler.onWebSocketClose;r=new Promise((o,a)=>{this._stompHandler.onWebSocketClose=l=>{s(l),o()}})}else return this._changeState($.INACTIVE),Promise.resolve();return t?this._stompHandler?.discardWebsocket():n&&this._disposeStompHandler(),r})}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(e){this._checkConnection(),this._stompHandler.publish(e)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(e,t){this._checkConnection(),this._stompHandler.watchForReceipt(e,t)}subscribe(e,t,n={}){return this._checkConnection(),this._stompHandler.subscribe(e,t,n)}unsubscribe(e,t={}){this._checkConnection(),this._stompHandler.unsubscribe(e,t)}begin(e){return this._checkConnection(),this._stompHandler.begin(e)}commit(e){this._checkConnection(),this._stompHandler.commit(e)}abort(e){this._checkConnection(),this._stompHandler.abort(e)}ack(e,t,n={}){this._checkConnection(),this._stompHandler.ack(e,t,n)}nack(e,t,n={}){this._checkConnection(),this._stompHandler.nack(e,t,n)}};var Dl=Ec(Pl());var De=class i{stompClient=null;socketUrl;messages=[];notificationsSubject=new Hr([]);notifications$=this.notificationsSubject.asObservable();injector=k(ot);isConnected=!1;constructor(){this.socketUrl=`${Ss.productsApiUrl}/ws`,setTimeout(()=>{this.autoReconnect()},100)}autoReconnect(){if(!this.isConnected)try{this.injector.get(W).getToken()&&(console.log("\u{1F504} Auto-reconnexion WebSocket STOMP apr\xE8s rafra\xEEchissement !"),this.connect())}catch(e){console.warn("\u26A0\uFE0F Impossible d'auto-reconnecter WebSocket, l'injector est d\xE9truit.")}}connect(){if(console.log("\u{1F4E1} Tentative r\xE9elle de connexion STOMP..."),this.isConnected){console.log("\u{1F535} WebSocket STOMP est d\xE9j\xE0 actif, pas besoin de reconnecter.");return}let t=this.injector.get(W).getToken();if(!t){console.warn("\u26A0\uFE0F Aucun token JWT trouv\xE9 ! Connexion WebSocket annul\xE9e.");return}let n=new Dl.default(this.socketUrl);if(this.stompClient=new un({webSocketFactory:()=>n,connectHeaders:{Authorization:`Bearer ${t}`},reconnectDelay:5e3}),this.stompClient.onConnect=()=>{this.isConnected=!0,this.stompClient?.subscribe("/topic/products",r=>{let s=JSON.parse(r.body).message;this.addNotification(s)})},this.stompClient.onStompError=r=>{console.error("\u274C Erreur STOMP:",r)},!this.stompClient){console.error("\u274C STOMP Client is not initialized.");return}if(this.stompClient.active){console.warn("\u26A0\uFE0F STOMP Client is already connected.");return}this.stompClient.activate()}addNotification(e){let t={message:e,timestamp:new Date};this.messages.unshift(t),this.messages.length>2&&this.messages.pop(),this.notificationsSubject.next([...this.messages])}disconnect(){this.stompClient&&(this.stompClient.deactivate(),console.log("\u{1F50C} D\xE9connect\xE9 de WebSocket"),this.isConnected=!1)}socketIsConnected(){return this.isConnected}static \u0275fac=function(t){return new(t||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ah(i,e){i&1&&(O(0,"p"),q(1,"Aucune notification pour l'instant."),C())}function Nh(i,e){if(i&1&&(O(0,"div",2)(1,"span",3),q(2),is(3,"date"),C(),O(4,"span",4),q(5),C(),ce(6,Ah,2,0,"p",5),C()),i&2){let t=e.$implicit,n=e.index,r=Ue();rn("fade-out",n===r.messages.length-1),M(2),wt(rs(3,5,t.timestamp,"shortTime")),M(3),wt(t.message),M(),ue("ngIf",r.messages!=null&&r.messages.length===0)}}var In=class i{constructor(e){this.notificationService=e}messages=[];notificationSubscription;ngOnInit(){this.notificationSubscription=this.notificationService.notifications$.subscribe(e=>{this.messages=[...e],this.scheduleHideMessages()})}scheduleHideMessages(){setTimeout(()=>{this.messages.length>0&&this.messages.pop()},5e3)}ngOnDestroy(){this.notificationSubscription.unsubscribe()}static \u0275fac=function(t){return new(t||i)(ee(De))};static \u0275cmp=_e({type:i,selectors:[["app-notification"]],decls:2,vars:1,consts:[[1,"notification-container"],["class","notification",3,"fade-out",4,"ngFor","ngForOf"],[1,"notification"],[1,"timestamp"],[1,"message"],[4,"ngIf"]],template:function(t,n){t&1&&(O(0,"div",0),ce(1,Nh,7,8,"div",1),C()),t&2&&(M(),ue("ngForOf",n.messages))},dependencies:[lt,as,at,ls],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;width:300px;max-width:90%}.notification[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px;margin-bottom:5px;border-radius:5px;box-shadow:0 4px 6px #0000001a;display:flex;justify-content:space-between;opacity:1;transition:opacity .5s ease-in-out,transform .3s ease-in-out;transform:scale(1)}.notification[_ngcontent-%COMP%]:first-child{animation:_ngcontent-%COMP%_appear .5s ease-in-out}@keyframes _ngcontent-%COMP%_appear{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}"]})};function Oh(i,e){i&1&&(si(0),St(1,"app-notification"),oi())}function Mh(i,e){i&1&&(si(0),O(1,"h1"),q(2,"Veuillez vous connecter"),C(),O(3,"a",3),q(4,"Se Connecter"),C(),oi())}var xn=class i{constructor(e,t){this.authService=e;this.notificationService=t}title="fronted-angular";credentials={username:"",password:""};ngOnInit(){this.authService.getToken()&&(console.log("\u{1F30D} L'utilisateur est connect\xE9, tentative de reconnexion WebSocket..."),this.notificationService.socketIsConnected||this.notificationService.connect())}isAuthenticated(){return this.authService.isLoggedIn()}static \u0275fac=function(t){return new(t||i)(ee(W),ee(De))};static \u0275cmp=_e({type:i,selectors:[["app-root"]],decls:9,vars:2,consts:[["routerLink","/",1,"logo"],["routerLink","/add-product",1,"add-product-link"],[4,"ngIf"],["routerLink","/login",1,"login-link"]],template:function(t,n){t&1&&(O(0,"header")(1,"nav")(2,"a",0),q(3,"Accueil"),C(),O(4,"a",1),q(5,"Ajouter un produit"),C()()(),ce(6,Oh,2,0,"ng-container",2)(7,Mh,5,0,"ng-container",2),St(8,"router-outlet")),t&2&&(M(6),ue("ngIf",n.isAuthenticated()),M(),ue("ngIf",!n.isAuthenticated()))},dependencies:[lt,at,vs,ys,_s,In],styles:["header[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;gap:15px}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-weight:700}header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};function Ih(i,e){if(i&1){let t=ns();O(0,"div",1)(1,"button",2),Et("click",function(){Kr(t);let r=Ue();return Qr(r.action())}),q(2),C()()}if(i&2){let t=Ue();M(2),ui(" ",t.data.action," ")}}var xh=["label"];function Ph(i,e){}var Dh=Math.pow(2,31)-1,Ht=class{_overlayRef;instance;containerInstance;_afterDismissed=new Oe;_afterOpened=new Oe;_onAction=new Oe;_durationTimeoutId;_dismissedByAction=!1;constructor(e,t){this._overlayRef=t,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,Dh))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},Bl=new ii("MatSnackBarData"),yt=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Rh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=nn({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),qh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=nn({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),Fh=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=nn({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),jl=(()=>{class i{snackBarRef=k(Ht);data=k(Bl);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=_e({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(n,r){n&1&&(O(0,"div",0),q(1),C(),ce(2,Ih,3,1,"div",1)),n&2&&(M(),ui(" ",r.data.message,`
`),M(),ts(r.hasAction?2:-1))},dependencies:[on,Rh,qh,Fh],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return i})(),ar="_mat-snack-bar-enter",lr="_mat-snack-bar-exit",Lh=(()=>{class i extends Us{_ngZone=k(tn);_elementRef=k(Gr);_changeDetectorRef=k(os);_platform=k(Ms);_rendersRef;_animationsDisabled=k(vt,{optional:!0})==="NoopAnimations";snackBarConfig=k(yt);_document=k(sn);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new Oe;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new Oe;_onExit=new Oe;_onEnter=new Oe;_animationState="void";_live;_label;_role;_liveElementId=k(Ds).getId("mat-snack-bar-container-live-");constructor(){super();let t=this.snackBarConfig;t.politeness==="assertive"&&!t.announcementMessage?this._live="assertive":t.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=Xr(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(t){this._assertNotAttached();let n=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),n}attachTemplatePortal(t){this._assertNotAttached();let n=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),n}attachDomPortal=t=>{this._assertNotAttached();let n=this._portalOutlet.attachDomPortal(t);return this._afterPortalAttached(),n};onAnimationEnd(t){t===lr?this._completeExit():t===ar&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(ti(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(ar)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(ar)},200)))}exit(){return this._destroyed?zr(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(ti(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(lr)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(lr),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let t=this._elementRef.nativeElement,n=this.snackBarConfig.panelClass;n&&(Array.isArray(n)?n.forEach(o=>t.classList.add(o)):t.classList.add(n)),this._exposeToModals();let r=this._label.nativeElement,s="mdc-snackbar__label";r.classList.toggle(s,!r.querySelector(`.${s}`))}_exposeToModals(){let t=this._liveElementId,n=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<n.length;r++){let s=n[r],o=s.getAttribute("aria-owns");this._trackedModals.add(s),o?o.indexOf(t)===-1&&s.setAttribute("aria-owns",o+" "+t):s.setAttribute("aria-owns",t)}}_clearFromModals(){this._trackedModals.forEach(t=>{let n=t.getAttribute("aria-owns");if(n){let r=n.replace(this._liveElementId,"").trim();r.length>0?t.setAttribute("aria-owns",r):t.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let t=this._elementRef.nativeElement,n=t.querySelector("[aria-hidden]"),r=t.querySelector("[aria-live]");if(n&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&n.contains(document.activeElement)&&(s=document.activeElement),n.removeAttribute("aria-hidden"),r.appendChild(n),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=_e({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(n,r){if(n&1&&(ai(gi,7),ai(xh,7)),n&2){let s;li(s=ci())&&(r._portalOutlet=s.first),li(s=ci())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(n,r){n&1&&Et("animationend",function(o){return r.onAnimationEnd(o.animationName)})("animationcancel",function(o){return r.onAnimationEnd(o.animationName)}),n&2&&rn("mat-snack-bar-container-enter",r._animationState==="visible")("mat-snack-bar-container-exit",r._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!r._animationsDisabled)},features:[Zr],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(n,r){n&1&&(O(0,"div",1)(1,"div",2,0)(3,"div",3),ce(4,Ph,0,0,"ng-template",4),C(),St(5,"div"),C()()),n&2&&(M(5),es("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[gi],styles:["@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2})}return i})();function Bh(){return new yt}var jh=new ii("mat-snack-bar-default-options",{providedIn:"root",factory:Bh}),zt=(()=>{class i{_overlay=k(zs);_live=k(Ps);_injector=k(ot);_breakpointObserver=k(Is);_parentSnackBar=k(i,{optional:!0,skipSelf:!0});_defaultConfig=k(jh);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=jl;snackBarContainerComponent=Lh;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}constructor(){}openFromComponent(t,n){return this._attach(t,n)}openFromTemplate(t,n){return this._attach(t,n)}open(t,n="",r){let s=ae(ae({},this._defaultConfig),r);return s.data={message:t,action:n},s.announcementMessage===t&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,n){let r=n&&n.viewContainerRef&&n.viewContainerRef.injector,s=ot.create({parent:r||this._injector,providers:[{provide:yt,useValue:n}]}),o=new mi(this.snackBarContainerComponent,n.viewContainerRef,s),a=t.attach(o);return a.instance.snackBarConfig=n,a.instance}_attach(t,n){let r=ae(ae(ae({},new yt),this._defaultConfig),n),s=this._createOverlay(r),o=this._attachSnackBarContainer(s,r),a=new Ht(o,s);if(t instanceof Jr){let l=new js(t,null,{$implicit:r.data,snackBarRef:a});a.instance=o.attachTemplatePortal(l)}else{let l=this._createInjector(r,a),c=new mi(t,void 0,l),h=o.attachComponentPortal(c);a.instance=h.instance}return this._breakpointObserver.observe(xs.HandsetPortrait).pipe(Wr(s.detachments())).subscribe(l=>{s.overlayElement.classList.toggle(this.handsetCssClass,l.matches)}),r.announcementMessage&&o._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(a,r),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(t,n){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),n.announcementMessage&&this._live.clear()}),n.duration&&n.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(n.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter()}_createOverlay(t){let n=new Hs;n.direction=t.direction;let r=this._overlay.position().global(),s=t.direction==="rtl",o=t.horizontalPosition==="left"||t.horizontalPosition==="start"&&!s||t.horizontalPosition==="end"&&s,a=!o&&t.horizontalPosition!=="center";return o?r.left("0"):a?r.right("0"):r.centerHorizontally(),t.verticalPosition==="top"?r.top("0"):r.bottom("0"),n.positionStrategy=r,this._overlay.create(n)}_createInjector(t,n){let r=t&&t.viewContainerRef&&t.viewContainerRef.injector;return ot.create({parent:r||this._injector,providers:[{provide:Ht,useValue:n},{provide:Bl,useValue:t.data}]})}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Pn=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=ri({type:i});static \u0275inj=ni({providers:[zt],imports:[Ws,Vs,an,pi,jl,pi]})}return i})();function Vh(i,e){if(i&1&&(O(0,"p",7),q(1),C()),i&2){let t=Ue();M(),wt(t.error)}}var Dn=class i{constructor(e,t,n,r,s){this.authService=e;this.router=t;this.route=n;this.notificationService=r;this.snackBar=s}credentials={username:"",password:""};error=null;login(){let e=this.route.snapshot.queryParams.returnUrl||"/";this.authService.login(this.credentials).subscribe({next:t=>{t&&t.token&&(this.notificationService.socketIsConnected()||this.notificationService.connect(),this.router.navigate([e]),this.showSuccessMessage("Connexion r\xE9ussie !"))},error:t=>{}})}showSuccessMessage(e){this.snackBar.open(e,"Fermer",{duration:3e3,horizontalPosition:"center",verticalPosition:"top",panelClass:["success-snackbar"]})}static \u0275fac=function(t){return new(t||i)(ee(W),ee(Me),ee(gs),ee(De),ee(zt))};static \u0275cmp=_e({type:i,selectors:[["app-login"]],decls:15,vars:5,consts:[[1,"login-container"],[3,"ngSubmit"],["appearance","fill",3,"floatLabel"],["matInput","","name","username","required","",3,"ngModelChange","ngModel"],["matInput","","name","password","type","password","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit"],["class","error",4,"ngIf"],[1,"error"]],template:function(t,n){t&1&&(O(0,"div",0)(1,"h2"),q(2,"Connexion"),C(),O(3,"form",1),Et("ngSubmit",function(){return n.login()}),O(4,"mat-form-field",2)(5,"mat-label"),q(6,"Username"),C(),O(7,"input",3),fi("ngModelChange",function(s){return di(n.credentials.username,s)||(n.credentials.username=s),s}),C()(),O(8,"mat-form-field",2)(9,"mat-label"),q(10,"Mot de passe"),C(),O(11,"input",4),fi("ngModelChange",function(s){return di(n.credentials.password,s)||(n.credentials.password=s),s}),C()(),O(12,"button",5),q(13,"Se connecter"),C(),ce(14,Vh,2,1,"p",6),C()()),t&2&&(M(4),ue("floatLabel","always"),M(3),hi("ngModel",n.credentials.username),M(),ue("floatLabel","always"),M(3),hi("ngModel",n.credentials.password),M(3),ue("ngIf",n.error))},dependencies:[lt,at,Os,As,Es,ws,Ts,Ns,Cs,ks,Fs,qs,Rs,Bs,Ls,an,on,Pn],styles:[".error-snackbar[_ngcontent-%COMP%]{background-color:#d32f2f!important;color:#fff!important;font-weight:700}"]})};var Ye=class i{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||i)(je(W),je(Me))};static \u0275prov=le({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ul=[{path:"",loadComponent:()=>import("./chunk-FAOR4P3K.js").then(i=>i.ListProductComponent),data:{title:"home"},canActivate:[Ye]},{path:"products",loadComponent:()=>import("./chunk-FAOR4P3K.js").then(i=>i.ListProductComponent),data:{title:"products"},canActivate:[Ye]},{path:"add-product",loadComponent:()=>import("./chunk-2FWXDGLH.js").then(i=>i.AddProductComponent),canActivate:[Ye]},{path:"products/edit/:id",loadComponent:()=>import("./chunk-VU5WTYJV.js").then(i=>i.EditProductComponent),canActivate:[Ye]},{path:"login",component:Dn},{path:"not-found",loadComponent:()=>import("./chunk-P2L55WI2.js").then(i=>i.NotFoundComponent)},{path:"**",redirectTo:"not-found"}];var v=function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i}(v||{}),ge="*";function Vl(i,e=null){return{type:v.Sequence,steps:i,options:e}}function cr(i){return{type:v.Style,styles:i,offset:null}}var Re=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(e=0,t=0){this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Wt=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(e){this.players=e;let t=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,t/n.totalTime):1;n.setPosition(r)})}getPosition(){let e=this.players.reduce((t,n)=>t===null||n.totalTime>t.totalTime?n:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Rn="!";function Hl(i){return new E(3e3,!1)}function Hh(){return new E(3100,!1)}function zh(){return new E(3101,!1)}function Wh(i){return new E(3001,!1)}function $h(i){return new E(3003,!1)}function Kh(i){return new E(3004,!1)}function Qh(i,e){return new E(3005,!1)}function Gh(){return new E(3006,!1)}function Xh(){return new E(3007,!1)}function Jh(i,e){return new E(3008,!1)}function Yh(i){return new E(3002,!1)}function Zh(i,e,t,n,r){return new E(3010,!1)}function ed(){return new E(3011,!1)}function td(){return new E(3012,!1)}function nd(){return new E(3200,!1)}function id(){return new E(3202,!1)}function rd(){return new E(3013,!1)}function sd(i){return new E(3014,!1)}function od(i){return new E(3015,!1)}function ad(i){return new E(3016,!1)}function ld(i,e){return new E(3404,!1)}function cd(i){return new E(3502,!1)}function ud(i){return new E(3503,!1)}function hd(){return new E(3300,!1)}function dd(i){return new E(3504,!1)}function fd(i){return new E(3301,!1)}function pd(i,e){return new E(3302,!1)}function md(i){return new E(3303,!1)}function gd(i,e){return new E(3400,!1)}function yd(i){return new E(3401,!1)}function _d(i){return new E(3402,!1)}function bd(i,e){return new E(3505,!1)}function qe(i){switch(i.length){case 0:return new Re;case 1:return i[0];default:return new Wt(i)}}function ic(i,e,t=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),h=c==o,u=h&&a||new Map;l.forEach((g,_)=>{let p=_,b=g;if(_!=="offset")switch(p=i.normalizePropertyName(p,r),b){case Rn:b=t.get(_);break;case ge:b=n.get(_);break;default:b=i.normalizeStyleValue(_,p,b,r);break}u.set(p,b)}),h||s.push(u),a=u,o=c}),r.length)throw cd(r);return s}function Ir(i,e,t,n){switch(e){case"start":i.onStart(()=>n(t&&ur(t,"start",i)));break;case"done":i.onDone(()=>n(t&&ur(t,"done",i)));break;case"destroy":i.onDestroy(()=>n(t&&ur(t,"destroy",i)));break}}function ur(i,e,t){let n=t.totalTime,r=!!t.disabled,s=xr(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,n??i.totalTime,r),o=i._data;return o!=null&&(s._data=o),s}function xr(i,e,t,n,r="",s=0,o){return{element:i,triggerName:e,fromState:t,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function X(i,e,t){let n=i.get(e);return n||i.set(e,n=t),n}function zl(i){let e=i.indexOf(":"),t=i.substring(1,e),n=i.slice(e+1);return[t,n]}var vd=typeof document>"u"?null:document.documentElement;function Pr(i){let e=i.parentNode||i.host||null;return e===vd?null:e}function Sd(i){return i.substring(1,6)=="ebkit"}var Ze=null,Wl=!1;function Ed(i){Ze||(Ze=wd()||{},Wl=Ze.style?"WebkitAppearance"in Ze.style:!1);let e=!0;return Ze.style&&!Sd(i)&&(e=i in Ze.style,!e&&Wl&&(e="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in Ze.style)),e}function wd(){return typeof document<"u"?document.body:null}function rc(i,e){for(;e;){if(e===i)return!0;e=Pr(e)}return!1}function sc(i,e,t){if(t)return Array.from(i.querySelectorAll(e));let n=i.querySelector(e);return n?[n]:[]}var Dr=(()=>{class i{validateStyleProperty(t){return Ed(t)}containsElement(t,n){return rc(t,n)}getParentElement(t){return Pr(t)}query(t,n,r){return sc(t,n,r)}computeStyle(t,n,r){return r||""}animate(t,n,r,s,o,a=[],l){return new Re(r,s)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})(),nt=class{static NOOP=new Dr},it=class{};var Td=1e3,oc="{{",kd="}}",ac="ng-enter",gr="ng-leave",qn="ng-trigger",Un=".ng-trigger",$l="ng-animating",yr=".ng-animating";function Ae(i){if(typeof i=="number")return i;let e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:_r(parseFloat(e[1]),e[2])}function _r(i,e){switch(e){case"s":return i*Td;default:return i}}function Vn(i,e,t){return i.hasOwnProperty("duration")?i:Cd(i,e,t)}function Cd(i,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof i=="string"){let a=i.match(n);if(a===null)return e.push(Hl(i)),{duration:0,delay:0,easing:""};r=_r(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=_r(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else r=i;if(!t){let a=!1,l=e.length;r<0&&(e.push(Hh()),a=!0),s<0&&(e.push(zh()),a=!0),a&&e.splice(l,0,Hl(i))}return{duration:r,delay:s,easing:o}}function Ad(i){return i.length?i[0]instanceof Map?i:i.map(e=>new Map(Object.entries(e))):[]}function ye(i,e,t){e.forEach((n,r)=>{let s=Rr(r);t&&!t.has(r)&&t.set(r,i.style[s]),i.style[s]=n})}function tt(i,e){e.forEach((t,n)=>{let r=Rr(n);i.style[r]=""})}function $t(i){return Array.isArray(i)?i.length==1?i[0]:Vl(i):i}function Nd(i,e,t){let n=e.params||{},r=lc(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||t.push(Wh(s))})}var br=new RegExp(`${oc}\\s*(.+?)\\s*${kd}`,"g");function lc(i){let e=[];if(typeof i=="string"){let t;for(;t=br.exec(i);)e.push(t[1]);br.lastIndex=0}return e}function Qt(i,e,t){let n=`${i}`,r=n.replace(br,(s,o)=>{let a=e[o];return a==null&&(t.push($h(o)),a=""),a.toString()});return r==n?i:r}var Od=/-+([a-z0-9])/g;function Rr(i){return i.replace(Od,(...e)=>e[1].toUpperCase())}function Md(i,e){return i===0||e===0}function Id(i,e,t){if(t.size&&e.length){let n=e[0],r=[];if(t.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,qr(i,a)))}}return e}function G(i,e,t){switch(e.type){case v.Trigger:return i.visitTrigger(e,t);case v.State:return i.visitState(e,t);case v.Transition:return i.visitTransition(e,t);case v.Sequence:return i.visitSequence(e,t);case v.Group:return i.visitGroup(e,t);case v.Animate:return i.visitAnimate(e,t);case v.Keyframes:return i.visitKeyframes(e,t);case v.Style:return i.visitStyle(e,t);case v.Reference:return i.visitReference(e,t);case v.AnimateChild:return i.visitAnimateChild(e,t);case v.AnimateRef:return i.visitAnimateRef(e,t);case v.Query:return i.visitQuery(e,t);case v.Stagger:return i.visitStagger(e,t);default:throw Kh(e.type)}}function qr(i,e){return window.getComputedStyle(i)[e]}var xd=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Hn=class extends it{normalizePropertyName(e,t){return Rr(e)}normalizeStyleValue(e,t,n,r){let s="",o=n.toString().trim();if(xd.has(t)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Qh(e,n))}return o+s}};var zn="*";function Pd(i,e){let t=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>Dd(n,t,e)):t.push(i),t}function Dd(i,e,t){if(i[0]==":"){let l=Rd(i,t);if(typeof l=="function"){e.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(od(i)),e;let r=n[1],s=n[2],o=n[3];e.push(Kl(r,o));let a=r==zn&&o==zn;s[0]=="<"&&!a&&e.push(Kl(o,r))}function Rd(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(ad(i)),"* => *"}}var Fn=new Set(["true","1"]),Ln=new Set(["false","0"]);function Kl(i,e){let t=Fn.has(i)||Ln.has(i),n=Fn.has(e)||Ln.has(e);return(r,s)=>{let o=i==zn||i==r,a=e==zn||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?Fn.has(i):Ln.has(i)),!a&&n&&typeof s=="boolean"&&(a=s?Fn.has(e):Ln.has(e)),o&&a}}var cc=":self",qd=new RegExp(`s*${cc}s*,?`,"g");function uc(i,e,t,n){return new vr(i).build(e,t,n)}var Ql="",vr=class{_driver;constructor(e){this._driver=e}build(e,t,n){let r=new Sr(t);return this._resetContextStyleTimingState(r),G(this,$t(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Ql,e.collectedStyles=new Map,e.collectedStyles.set(Ql,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(Gh()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==v.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,t))}),l.name=c}else if(a.type==v.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(Xh())}),{type:v.Trigger,name:e.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{lc(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&t.errors.push(Jh(e.name,[...s.values()]))}return{type:v.State,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=G(this,$t(e.animation),t),r=Pd(e.expr,t.errors);return{type:v.Transition,matchers:r,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:et(e.options)}}visitSequence(e,t){return{type:v.Sequence,steps:e.steps.map(n=>G(this,n,t)),options:et(e.options)}}visitGroup(e,t){let n=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=n;let a=G(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:v.Group,steps:s,options:et(e.options)}}visitAnimate(e,t){let n=jd(e.timings,t.errors);t.currentAnimateTimings=n;let r,s=e.styles?e.styles:cr({});if(s.type==v.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=cr(c)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:v.Animate,timings:n,style:r,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===ge?n.push(a):t.errors.push(Yh(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(oc)>=0){s=!0;break}}}),{type:v.Style,styles:n,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;n&&s>0&&(s-=n.duration+n.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=t.collectedStyles.get(t.currentQuerySelector),h=c.get(l),u=!0;h&&(s!=r&&s>=h.startTime&&r<=h.endTime&&(t.errors.push(Zh(l,h.startTime,h.endTime,s,r)),u=!1),s=h.startTime),u&&c.set(l,{startTime:s,endTime:r}),t.options&&Nd(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:v.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(ed()),n;let r=1,s=0,o=[],a=!1,l=!1,c=0,h=e.steps.map(x=>{let D=this._makeStyleAst(x,t),j=D.offset!=null?D.offset:Bd(D.styles),F=0;return j!=null&&(s++,F=D.offset=j),l=l||F<0||F>1,a=a||F<c,c=F,o.push(F),D});l&&t.errors.push(td()),a&&t.errors.push(nd());let u=e.steps.length,g=0;s>0&&s<u?t.errors.push(id()):s==0&&(g=r/(u-1));let _=u-1,p=t.currentTime,b=t.currentAnimateTimings,A=b.duration;return h.forEach((x,D)=>{let j=g>0?D==_?1:g*D:o[D],F=j*A;t.currentTime=p+b.delay+F,b.duration=F,this._validateStyleAst(x,t),x.offset=j,n.styles.push(x)}),n}visitReference(e,t){return{type:v.Reference,animation:G(this,$t(e.animation),t),options:et(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:v.AnimateChild,options:et(e.options)}}visitAnimateRef(e,t){return{type:v.AnimateRef,animation:this.visitReference(e.animation,t),options:et(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=Fd(e.selector);t.currentQuerySelector=n.length?n+" "+s:s,X(t.collectedStyles,t.currentQuerySelector,new Map);let a=G(this,$t(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:v.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:et(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(rd());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Vn(e.timings,t.errors,!0);return{type:v.Stagger,animation:G(this,$t(e.animation),t),timings:n,options:null}}};function Fd(i){let e=!!i.split(/\s*,\s*/).find(t=>t==cc);return e&&(i=i.replace(qd,"")),i=i.replace(/@\*/g,Un).replace(/@\w+/g,t=>Un+"-"+t.slice(1)).replace(/:animating/g,yr),[i,e]}function Ld(i){return i?ae({},i):null}var Sr=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Bd(i){if(typeof i=="string")return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let t=i;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function jd(i,e){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=Vn(i,e).duration;return hr(s,0,"")}let t=i;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=hr(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Vn(t,e);return hr(r.duration,r.delay,r.easing)}function et(i){return i?(i=ae({},i),i.params&&(i.params=Ld(i.params))):i={},i}function hr(i,e,t){return{duration:i,delay:e,easing:t}}function Fr(i,e,t,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Gt=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},Ud=1,Vd=":enter",Hd=new RegExp(Vd,"g"),zd=":leave",Wd=new RegExp(zd,"g");function hc(i,e,t,n,r,s=new Map,o=new Map,a,l,c=[]){return new Er().buildKeyframes(i,e,t,n,r,s,o,a,l,c)}var Er=class{buildKeyframes(e,t,n,r,s,o,a,l,c,h=[]){c=c||new Gt;let u=new wr(e,t,c,r,s,h,[]);u.options=l;let g=l.delay?Ae(l.delay):0;u.currentTimeline.delayNextStep(g),u.currentTimeline.setStyles([o],null,u.errors,l),G(this,n,u);let _=u.timelines.filter(p=>p.containsAnimation());if(_.length&&a.size){let p;for(let b=_.length-1;b>=0;b--){let A=_[b];if(A.element===t){p=A;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,u.errors,l)}return _.length?_.map(p=>p.buildKeyframes()):[Fr(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Ae(Qt(s,r?.params??{},t.errors));n.delayNextStep(o)}}}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime,o=n.duration!=null?Ae(n.duration):null,a=n.delay!=null?Ae(n.delay):null;return o!==0&&e.forEach(l=>{let c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),G(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==v.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Wn);let o=Ae(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>G(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Ae(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),G(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,r=t.params?Qt(n,t.params,t.errors):n;return Vn(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());let s=e.style;s.type==v.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(n.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(s):n.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,r=t.currentTimeline.duration,s=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ae(r.delay):0;s&&(t.previousNode.type===v.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wn);let o=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,h)=>{t.currentQueryIndex=h;let u=t.createSubContext(e.options,c);s&&u.delayNextStep(s),c===t.element&&(l=u.currentTimeline),G(this,e.animation,u),u.currentTimeline.applyStylesToKeyframe();let g=u.currentTimeline.currentTime;o=Math.max(o,g)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let h=t.currentTimeline;l&&h.delayNextStep(l);let u=h.currentTime;G(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}},Wn={},wr=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Wn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new $n(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,r=this.options;n.duration!=null&&(r.duration=Ae(n.duration)),n.delay!=null&&(r.delay=Ae(n.delay));let s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Qt(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(r=>{n[r]=t[r]})}}return e}createSubContext(e=null,t,n){let r=t||this.element,s=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Wn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},s=new Tr(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(Hd,"."+this._enterClassName),e=e.replace(Wd,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,e,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(sd(t)),a}},$n=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new i(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ud,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||ge),this._currentKeyframe.set(t,ge);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=$d(e,this._globalTimelineStyles);for(let[a,l]of o){let c=Qt(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ge),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let r=this._styleSummary.get(n);(!r||t.time>r.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((h,u)=>{h===Rn?e.add(u):h===ge&&t.add(u)}),n||c.set("offset",l/this.duration),r.push(c)});let s=[...e.values()],o=[...t.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Fr(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Tr=class extends $n{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=n+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",Gl(a)),s.push(c);let h=e.length-1;for(let u=1;u<=h;u++){let g=new Map(e[u]),_=g.get("offset"),p=t+_*n;g.set("offset",Gl(p/o)),s.push(g)}n=o,t=0,r="",e=s}return Fr(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}};function Gl(i,e=3){let t=Math.pow(10,e-1);return Math.round(i*t)/t}function $d(i,e){let t=new Map,n;return i.forEach(r=>{if(r==="*"){n??=e.keys();for(let s of n)t.set(s,ge)}else for(let[s,o]of r)t.set(s,o)}),t}function Xl(i,e,t,n,r,s,o,a,l,c,h,u,g){return{type:0,element:i,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:u,errors:g}}var dr={},Kn=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return Kd(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,n):new Map}build(e,t,n,r,s,o,a,l,c,h){let u=[],g=this.ast.options&&this.ast.options.params||dr,_=a&&a.params||dr,p=this.buildStyles(n,_,u),b=l&&l.params||dr,A=this.buildStyles(r,b,u),x=new Set,D=new Map,j=new Map,F=r==="void",rt={params:dc(b,g),delay:this.ast.options?.delay},se=h?[]:hc(e,t,this.ast.animation,s,o,p,A,rt,c,u),U=0;return se.forEach(V=>{U=Math.max(V.duration+V.delay,U)}),u.length?Xl(t,this._triggerName,n,r,F,p,A,[],[],D,j,U,u):(se.forEach(V=>{let Fe=V.element,st=X(D,Fe,new Set);V.preStyleProps.forEach(Le=>st.add(Le));let Lr=X(j,Fe,new Set);V.postStyleProps.forEach(Le=>Lr.add(Le)),Fe!==t&&x.add(Fe)}),Xl(t,this._triggerName,n,r,F,p,A,se,[...x.values()],D,j,U))}};function Kd(i,e,t,n,r){return i.some(s=>s(e,t,n,r))}function dc(i,e){let t=ae({},e);return Object.entries(i).forEach(([n,r])=>{r!=null&&(t[n]=r)}),t}var kr=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,r=dc(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Qt(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),n.set(a,o)})}),n}};function Qd(i,e,t){return new Cr(i,e,t)}var Cr=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new kr(r.style,s,n))}),Jl(this.states,"true","1"),Jl(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Kn(e,r,this.states))}),this.fallbackTransition=Gd(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(o=>o.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Gd(i,e,t){let n=[(o,a)=>!0],r={type:v.Sequence,steps:[],options:null},s={type:v.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new Kn(i,s,e)}function Jl(i,e,t){i.has(e)?i.has(t)||i.set(t,i.get(e)):i.has(t)&&i.set(e,i.get(t))}var Xd=new Gt,Ar=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],r=[],s=uc(this._driver,t,n,r);if(n.length)throw ud(n);this._animations.set(e,s)}_buildPlayer(e,t,n){let r=e.element,s=ic(this._normalizer,e.keyframes,t,n);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=hc(this._driver,t,s,ac,gr,new Map,new Map,n,Xd,r),o.forEach(h=>{let u=X(a,h.element,new Map);h.postStyleProps.forEach(g=>u.set(g,null))})):(r.push(hd()),o=[]),r.length)throw dd(r);a.forEach((h,u)=>{h.forEach((g,_)=>{h.set(_,this._driver.computeStyle(u,_,ge))})});let l=o.map(h=>{let u=a.get(h.element);return this._buildPlayer(h,new Map,u)}),c=qe(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw fd(e);return t}listen(e,t,n,r){let s=xr(t,"","","");return Ir(this._getPlayer(e),n,s,r),()=>{}}command(e,t,n,r){if(n=="register"){this.register(e,r[0]);return}if(n=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Yl="ng-animate-queued",Jd=".ng-animate-queued",fr="ng-animate-disabled",Yd=".ng-animate-disabled",Zd="ng-star-inserted",ef=".ng-star-inserted",tf=[],fc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},re="__ng_removed",Xt=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),r=n?e.value:e;if(this.value=sf(r),n){let s=e,{value:o}=s,a=Vr(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(r=>{n[r]==null&&(n[r]=t[r])})}}},Kt="void",pr=new Xt(Kt),Nr=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,Z(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.has(t))throw pd(n,t);if(n==null||n.length==0)throw md(t);if(!of(n))throw gd(n,t);let s=X(this._elementListeners,e,[]),o={name:t,phase:n,callback:r};s.push(o);let a=X(this._engine.statesByElement,e,new Map);return a.has(t)||(Z(e,qn),Z(e,qn+"-"+t),a.set(t,pr)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw yd(e);return t}trigger(e,t,n,r=!0){let s=this._getTrigger(t),o=new Jt(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Z(e,qn),Z(e,qn+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),c=new Xt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=pr),!(c.value===Kt)&&l.value===c.value){if(!cf(l.params,c.params)){let b=[],A=s.matchStyles(l.value,l.params,b),x=s.matchStyles(c.value,c.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{tt(e,A),ye(e,x)})}return}let g=X(this._engine.playersByElement,e,[]);g.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let _=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!_){if(!r)return;_=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:_,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Z(e,Yl),o.onStart(()=>{_t(e,Yl)})),o.onDone(()=>{let b=this.players.indexOf(o);b>=0&&this.players.splice(b,1);let A=this._engine.playersByElement.get(e);if(A){let x=A.indexOf(o);x>=0&&A.splice(x,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Un,!0);n.forEach(r=>{if(r[re])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,n,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let h=this.trigger(e,c,Kt,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),n&&qe(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||pr,h=new Xt(Kt),u=new Jt(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:h,player:u,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{let s=e[re];(!s||s===fc)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Z(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=xr(s,n.triggerName,n.fromState.value,n.toState.value);l._data=e,Ir(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((n,r)=>{let s=n.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},Or=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new Nr(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(e)}else n.push(e);return r.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,n,r){if(Bn(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!Bn(t))return;let s=t[re];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Z(e,fr)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),_t(e,fr))}removeNode(e,t,n){if(Bn(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,r,s){this.collectedLeaveElements.push(t),t[re]={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,n,r,s){return Bn(t)?this._fetchNamespace(e).listen(t,n,r,s):()=>{}}_buildInstruction(e,t,n,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Un,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,yr,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return qe(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[re];if(t&&t.setForRemoval){if(e[re]=fc,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(fr)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Yd,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];Z(r,Zd)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?qe(t).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(e){throw _d(e)}_flushAnimations(e,t){let n=new Gt,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,h=new Set;this.disabledNodes.forEach(d=>{h.add(d);let m=this.driver.query(d,Jd,!0);for(let y=0;y<m.length;y++)h.add(m[y])});let u=this.bodyNode,g=Array.from(this.statesByElement.keys()),_=tc(g,this.collectedEnterElements),p=new Map,b=0;_.forEach((d,m)=>{let y=ac+b++;p.set(m,y),d.forEach(S=>Z(S,y))});let A=[],x=new Set,D=new Set;for(let d=0;d<this.collectedLeaveElements.length;d++){let m=this.collectedLeaveElements[d],y=m[re];y&&y.setForRemoval&&(A.push(m),x.add(m),y.hasAnimation?this.driver.query(m,ef,!0).forEach(S=>x.add(S)):D.add(m))}let j=new Map,F=tc(g,Array.from(x));F.forEach((d,m)=>{let y=gr+b++;j.set(m,y),d.forEach(S=>Z(S,y))}),e.push(()=>{_.forEach((d,m)=>{let y=p.get(m);d.forEach(S=>_t(S,y))}),F.forEach((d,m)=>{let y=j.get(m);d.forEach(S=>_t(S,y))}),A.forEach(d=>{this.processLeaveNode(d)})});let rt=[],se=[];for(let d=this._namespaceList.length-1;d>=0;d--)this._namespaceList[d].drainQueuedTransitions(t).forEach(y=>{let S=y.player,R=y.element;if(rt.push(S),this.collectedEnterElements.length){let L=R[re];if(L&&L.setForMove){if(L.previousTriggersValues&&L.previousTriggersValues.has(y.triggerName)){let Be=L.previousTriggersValues.get(y.triggerName),J=this.statesByElement.get(y.element);if(J&&J.has(y.triggerName)){let Yt=J.get(y.triggerName);Yt.value=Be,J.set(y.triggerName,Yt)}}S.destroy();return}}let oe=!u||!this.driver.containsElement(u,R),z=j.get(R),Ne=p.get(R),N=this._buildInstruction(y,n,Ne,z,oe);if(N.errors&&N.errors.length){se.push(N);return}if(oe){S.onStart(()=>tt(R,N.fromStyles)),S.onDestroy(()=>ye(R,N.toStyles)),r.push(S);return}if(y.isFallbackTransition){S.onStart(()=>tt(R,N.fromStyles)),S.onDestroy(()=>ye(R,N.toStyles)),r.push(S);return}let Ur=[];N.timelines.forEach(L=>{L.stretchStartingKeyframe=!0,this.disabledNodes.has(L.element)||Ur.push(L)}),N.timelines=Ur,n.append(R,N.timelines);let Sc={instruction:N,player:S,element:R};o.push(Sc),N.queriedElements.forEach(L=>X(a,L,[]).push(S)),N.preStyleProps.forEach((L,Be)=>{if(L.size){let J=l.get(Be);J||l.set(Be,J=new Set),L.forEach((Yt,Zn)=>J.add(Zn))}}),N.postStyleProps.forEach((L,Be)=>{let J=c.get(Be);J||c.set(Be,J=new Set),L.forEach((Yt,Zn)=>J.add(Zn))})});if(se.length){let d=[];se.forEach(m=>{d.push(bd(m.triggerName,m.errors))}),rt.forEach(m=>m.destroy()),this.reportError(d)}let U=new Map,V=new Map;o.forEach(d=>{let m=d.element;n.has(m)&&(V.set(m,m),this._beforeAnimationBuild(d.player.namespaceId,d.instruction,U))}),r.forEach(d=>{let m=d.element;this._getPreviousPlayers(m,!1,d.namespaceId,d.triggerName,null).forEach(S=>{X(U,m,[]).push(S),S.destroy()})});let Fe=A.filter(d=>nc(d,l,c)),st=new Map;ec(st,this.driver,D,c,ge).forEach(d=>{nc(d,l,c)&&Fe.push(d)});let Le=new Map;_.forEach((d,m)=>{ec(Le,this.driver,new Set(d),l,Rn)}),Fe.forEach(d=>{let m=st.get(d),y=Le.get(d);st.set(d,new Map([...m?.entries()??[],...y?.entries()??[]]))});let Yn=[],Br=[],jr={};o.forEach(d=>{let{element:m,player:y,instruction:S}=d;if(n.has(m)){if(h.has(m)){y.onDestroy(()=>ye(m,S.toStyles)),y.disabled=!0,y.overrideTotalTime(S.totalTime),r.push(y);return}let R=jr;if(V.size>1){let z=m,Ne=[];for(;z=z.parentNode;){let N=V.get(z);if(N){R=N;break}Ne.push(z)}Ne.forEach(N=>V.set(N,R))}let oe=this._buildAnimation(y.namespaceId,S,U,s,Le,st);if(y.setRealPlayer(oe),R===jr)Yn.push(y);else{let z=this.playersByElement.get(R);z&&z.length&&(y.parentPlayer=qe(z)),r.push(y)}}else tt(m,S.fromStyles),y.onDestroy(()=>ye(m,S.toStyles)),Br.push(y),h.has(m)&&r.push(y)}),Br.forEach(d=>{let m=s.get(d.element);if(m&&m.length){let y=qe(m);d.setRealPlayer(y)}}),r.forEach(d=>{d.parentPlayer?d.syncPlayerEvents(d.parentPlayer):d.destroy()});for(let d=0;d<A.length;d++){let m=A[d],y=m[re];if(_t(m,gr),y&&y.hasAnimation)continue;let S=[];if(a.size){let oe=a.get(m);oe&&oe.length&&S.push(...oe);let z=this.driver.query(m,yr,!0);for(let Ne=0;Ne<z.length;Ne++){let N=a.get(z[Ne]);N&&N.length&&S.push(...N)}}let R=S.filter(oe=>!oe.destroyed);R.length?af(this,m,R):this.processLeaveNode(m)}return A.length=0,Yn.forEach(d=>{this.players.push(d),d.onDone(()=>{d.destroy();let m=this.players.indexOf(d);this.players.splice(m,1)}),d.play()}),Yn}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Kt;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,n){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let c=l.element,h=c!==s,u=X(n,c,[]);this._getPreviousPlayers(c,h,o,a,t.toState).forEach(_=>{let p=_.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),_.destroy(),u.push(_)})}tt(s,t.fromStyles)}_buildAnimation(e,t,n,r,s,o){let a=t.triggerName,l=t.element,c=[],h=new Set,u=new Set,g=t.timelines.map(p=>{let b=p.element;h.add(b);let A=b[re];if(A&&A.removedBeforeQueried)return new Re(p.duration,p.delay);let x=b!==l,D=lf((n.get(b)||tf).map(U=>U.getRealPlayer())).filter(U=>{let V=U;return V.element?V.element===b:!1}),j=s.get(b),F=o.get(b),rt=ic(this._normalizer,p.keyframes,j,F),se=this._buildPlayer(p,rt,D);if(p.subTimeline&&r&&u.add(b),x){let U=new Jt(e,a,b);U.setRealPlayer(se),c.push(U)}return se});c.forEach(p=>{X(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>rf(this.playersByQueriedElement,p.element,p))}),h.forEach(p=>Z(p,$l));let _=qe(g);return _.onDestroy(()=>{h.forEach(p=>_t(p,$l)),ye(l,t.toStyles)}),u.forEach(p=>{X(r,p,[]).push(_)}),_}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Re(e.duration,e.delay)}},Jt=class{namespaceId;triggerName;element;_player=new Re;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(r=>Ir(e,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){X(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function rf(i,e,t){let n=i.get(e);if(n){if(n.length){let r=n.indexOf(t);n.splice(r,1)}n.length==0&&i.delete(e)}return n}function sf(i){return i??null}function Bn(i){return i&&i.nodeType===1}function of(i){return i=="start"||i=="done"}function Zl(i,e){let t=i.style.display;return i.style.display=e??"none",t}function ec(i,e,t,n,r){let s=[];t.forEach(l=>s.push(Zl(l)));let o=[];n.forEach((l,c)=>{let h=new Map;l.forEach(u=>{let g=e.computeStyle(c,u,r);h.set(u,g),(!g||g.length==0)&&(c[re]=nf,o.push(c))}),i.set(c,h)});let a=0;return t.forEach(l=>Zl(l,s[a++])),o}function tc(i,e){let t=new Map;if(i.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,r=new Set(e),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return t.has(c)?l=c:r.has(c)?l=n:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==n&&t.get(l).push(a)}),t}function Z(i,e){i.classList?.add(e)}function _t(i,e){i.classList?.remove(e)}function af(i,e,t){qe(t).onDone(()=>i.processLeaveNode(e))}function lf(i){let e=[];return pc(i,e),e}function pc(i,e){for(let t=0;t<i.length;t++){let n=i[t];n instanceof Wt?pc(n.players,e):e.push(n)}}function cf(i,e){let t=Object.keys(i),n=Object.keys(e);if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||i[s]!==e[s])return!1}return!0}function nc(i,e,t){let n=t.get(i);if(!n)return!1;let r=e.get(i);return r?n.forEach(s=>r.add(s)):e.set(i,n),t.delete(i),!0}var bt=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new Or(e.body,t,n),this._timelineEngine=new Ar(e.body,t,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,n,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],h=uc(this._driver,s,l,c);if(l.length)throw ld(r,l);a=Qd(r,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if(n.charAt(0)=="@"){let[s,o]=zl(n),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,s){if(n.charAt(0)=="@"){let[o,a]=zl(n);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,n,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function uf(i,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=mr(e[0]),e.length>1&&(n=mr(e[e.length-1]))):e instanceof Map&&(t=mr(e)),t||n?new hf(i,t,n):null}var hf=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,r){this._element=t,this._startStyles=n,this._endStyles=r;let s=i.initialStylesByElement.get(t);s||i.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ye(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ye(this._element,this._initialStyles),this._endStyles&&(ye(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(tt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tt(this._element,this._endStyles),this._endStyles=null),ye(this._element,this._initialStyles),this._state=3)}}return i})();function mr(i){let e=null;return i.forEach((t,n)=>{df(n)&&(e=e||new Map,e.set(n,t))}),e}function df(i){return i==="display"||i==="position"}var Qn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&e.set(r,this._finished?n:qr(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Gn=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return rc(e,t)}getParentElement(e){return Pr(e)}query(e,t,n){return sc(e,t,n)}computeStyle(e,t,n){return qr(e,t)}animate(e,t,n,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};s&&(l.easing=s);let c=new Map,h=o.filter(_=>_ instanceof Qn);Md(n,r)&&h.forEach(_=>{_.currentSnapshot.forEach((p,b)=>c.set(b,p))});let u=Ad(t).map(_=>new Map(_));u=Id(e,u,c);let g=uf(e,u);return new Qn(e,u,l,g)}};var jn="@",mc="@.disabled",Xn=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,r){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==jn&&t==mc?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,r){return this.delegate.listen(e,t,n,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Mr=class extends Xn{factory;constructor(e,t,n,r,s){super(t,n,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==jn?t.charAt(1)=="."&&t==mc?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,r){if(t.charAt(0)==jn){let s=ff(e),o=t.slice(1),a="";return o.charAt(0)!=jn&&([o,a]=pf(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(e,t,n,r)}};function ff(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function pf(i){let e=i.indexOf("."),t=i.substring(0,e),n=i.slice(e+1);return[t,n]}var Jn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let n="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let c=this._rendererCache,h=c.get(r);if(!h){let u=()=>c.delete(r);h=new Xn(n,r,this.engine,u),c.set(r,h)}return h}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return t.data.animation.forEach(a),new Mr(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var gf=(()=>{class i extends bt{constructor(t,n,r){super(t,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(je(sn),je(nt),je(it))};static \u0275prov=le({token:i,factory:i.\u0275fac})}return i})();function yf(){return new Hn}function _f(i,e,t){return new Jn(i,e,t)}var gc=[{provide:it,useFactory:yf},{provide:bt,useClass:gf},{provide:Yr,useFactory:_f,deps:[ds,bt,tn]}],bf=[{provide:nt,useClass:Dr},{provide:vt,useValue:"NoopAnimations"},...gc],Xm=[{provide:nt,useFactory:()=>new Gn},{provide:vt,useFactory:()=>"BrowserAnimations"},...gc];function yc(){return[...bf]}var _c=(i,e)=>{let t=k(W),n=k(Me);if(["/login","/register","/assets/config.json"].some(o=>i.url.includes(o)))return e(i);let s=t.getToken();return s?i=i.clone({headers:i.headers.set("Authorization",`Bearer ${s}`)}):(console.warn("Interceptor - No token found, request sent without Authorization"),console.warn(i.url)),e(i).pipe(en(o=>(o.status===401&&(console.error("\u{1F6A8} 401 Unauthorized - Redirection vers /login"),n.navigate(["/login"])),Zt(()=>o))))};var bc=(i,e)=>{let t=k(zt),n=k(Me),r=k(W);return e(i).pipe(en(s=>{let o=s.error?.message||"Une erreur inattendue s\u2019est produite.",a="error-snackbar";if(s.status===0)o="\u{1F30D} Connexion impossible. V\xE9rifiez votre r\xE9seau.",a="network-snackbar";else if(s.status!==void 0)switch(s.status){case 400:o=o=s.error?.message||"\u26A0\uFE0F Requ\xEAte invalide. V\xE9rifiez les informations saisies.",a="warning-snackbar";break;case 401:o="\u{1F512} Session expir\xE9e. Veuillez vous reconnecter.",a="auth-snackbar",r.logout(),n.navigate(["/login"]);break;case 403:o="\u26D4 Acc\xE8s refus\xE9 ! Vous n\u2019\xEAtes pas autoris\xE9.",a="auth-snackbar";break;case 404:o="\u274C Ressource introuvable.",a="error-snackbar";break;case 500:o="\u{1F4A5} Erreur serveur. Veuillez r\xE9essayer plus tard.",a="error-snackbar";break;default:o=s.error?.message||o,a="error-snackbar"}else o="\u{1F30D} Connexion impossible. V\xE9rifiez votre r\xE9seau.",a="network-snackbar";return t.open(o,"FERMER",{duration:6e3,horizontalPosition:"center",verticalPosition:"top",panelClass:a}),Zt(()=>new Error(o))}))};var vc={providers:[ss({eventCoalescing:!0}),bs(Ul),ms(ps()),cs(hs(),us([_c,bc])),$r(Pn),yc()]};fs(xn,vc).catch(i=>console.error(i));
